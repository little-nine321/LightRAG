(

仅限阅读请勿传播
当您阅读本方案时，即表示您同意不传播本方案的所有内容
) (
Weaver
Software
上海市联航路
1188
号
33
号楼泛微软件大厦
邮政编码：
200122
电话：
+86 21 68869298
传真：
+86 21 50942278
) (
泛微协同办公平台
E-cology9.0
版本后台维护手册
(X)--
建模引擎
)

版权说明

本手册以及相关的计算机软件程序仅用于为泛微协同管理平台最终用户提供信息，上海泛微网络科技股份有限公司有权。本手册是上海泛微网络科技股份有限公司的专有信息，并受中华人民共和国版权法和国际公约的保护。

未得到上海泛微网络科技股份有限公司明确的书面许可，不得为任何目的、以任何形式或手段辅助或传播本手册的任何部分内容。

本手册内容若有变动，恕不另行通知。本手册中例子中所引用的公司、人名和数据若非特殊说明，均属虚构。

本手册以及本手册所提及的任何产品的使用均受适应的最终用户许可协议限制。本手册由上海泛微网络科技股份有限公司制作。本手册中提及的所有商标、商标名称、服务标志及徽标均归其各自公司所有。

目录
前言	12
关于本手册	12
手册结构	12
针对用户	12
更多资源	13
引言建模引擎	13
概述	13
E9部分新增功能预览	14
第1章	一个简单资产管理实例讲解	16
一、	概述	16
二、	X1-2-【资产组搭建】	16
1.2.1、概述	16
1.2.2、创建应用	17
1.2.3、创建模块	18
1.2.4、发布创建菜单	25
1.2.5、创建查询列表及发布前端菜单	27
1.2.6、前端增删改查操作	30
三、	X1-3-【资产信息搭建】	32
1.3.1、概述	32
1.3.2、搭建一个【资产信息】模块	32
1.3.3、浏览框的应用	33
四、	X1-4-【资产入库记录】	36
1.4.1、概述	36
1.4.2、【资产入库记录】模块的搭建及资产入库流程搭建	36
1.4.3、流程转数据功能的配置步骤	38
1.4.4、数据审批功能的配置	41
1.4.5、页面扩展功能	43
五、	X1-5-【资产树】	45
1.5.1、概述	45
1.5.2、资产树配置	46
1.5.3、前台展示效果	49
第2章	应用	50
一、	概述	50
二、	X2-2-功能说明	50
三、	X2-3-应用删除	51
2.3.1、概述	51
2.3.2、功能说明	51
第3章	模块	52
一、	概述	52
二、	X3-2-基础	53
3.2.1、概述	53
3.2.2、功能说明	53
3.2.3、几个功能点说明	54
三、	X3-3-布局	62
3.3.1、概述	62
3.3.2、应用场景说明	62
3.3.3、功能说明	63
3.3.3、实施注意	65
四、	X3-4-权限	66
3.4.1、概述	66
3.4.2、功能说明	66
3.4.3、重要的功能点	77
五、	X3-5-默认值	80
3.5.1、概述	80
3.5.2、应用场景说明	80
3.5.3、功能说明	80
3.5.4、实施注意	82
六、	X3-6-属性联动	82
3.6.1、概述	82
3.6.2、应用场景说明	82
3.6.3、功能说明	82
3.6.4、实施注意	84
七、	X3-7-字段联动	84
3.7.1、概述	84
3.7.2、应用场景说明	84
3.7.3、功能说明	85
3.7.4、实施注意	86
八、	X3-8-数据关联授权	86
3.8.1、概述	86
3.8.2、应用场景说明	87
3.8.3、功能说明	87
3.8.4、实施注意	89
九、	X3-9-数据审批	89
3.9.1、概述	89
3.9.2、应用场景说明	89
3.9.3、功能说明	90
3.9.4、实施注意	92
十、	X3-10-流程转数据	92
3.10.1、概述	92
3.10.2、应用场景说明	92
3.10.3、功能说明	93
3.10.4、流程转数据的几种类型	95
3.10.5、流程转数据支持触发条件	101
3.10.6、实施注意	101
十一、	X3-11-页面扩展	102
3.11.1、概述	102
3.11.2、应用场景说明	102
3.11.3、功能说明	102
3.11.4、实施注意	105
十二、	X3-12-批量导入	106
3.12.1、概述	106
3.12.2、应用场景说明	106
3.12.3、功能说明	107
3.12.4、实施注意	109
十三、	X3-13-编码	111
3.13.1、概述	111
3.13.2、应用场景说明	111
3.13.3、功能说明	111
3.13.4、实施注意	113
十四、	X3-14-二维码	114
3.13.1、概述	114
3.13.2、功能说明	114
3.13.3、实施注意	117
十五、	X3-15-条形码	118
3.15.1、概述	118
3.15.2、功能说明	118
3.15.3、实施注意	121
十六、	X3-16-日志	122
3.16.1、概述	122
3.16.2、功能说明	122
第4章	表单	123
一、	概述	123
二、	X4-2-表单	123
三、	X4-3-记录日志	125
4.3.1、概述	125
4.3.2、应用场景说明	125
4.3.3、功能说明	125
4.3.4、实施注意	127
四、	X4-4-重复验证	128
4.4.1、概述	128
4.4.2、应用场景说明	128
4.4.3、功能说明	128
4.4.4、实施注意	130
五、	X4-5-导入	131
4.4.1、概述	131
4.4.2、功能说明	131
六、	X4-6-扩展属性	132
4.6.1、概述	132
4.6.2、sqlwhere、sqlcondition	132
七、	X4-7-虚拟表单	135
4.7.1、概述	135
4.7.2、应用场景说明	135
4.7.3、功能说明	136
4.7.4、实施注意	138
第5章	查询	138
一、	概述	138
二、	X5-2-查询	139
5.2.1、概述	139
5.2.2、前端应用效果	139
5.2.3、功能配置说明	139
三、	X5-3-基础	141
5.3.1、概述	141
5.3.2、功能说明	142
四、	X5-4-固定查询条件	144
5.4.1、概述	144
5.4.2、应用场景说明	144
5.4.3、功能说明	144
5.4.4、实施注意	146
五、	X5-5-复制查询	146
5.5.1、概述	146
5.5.2、应用场景说明	146
5.5.3、功能说明	146
5.5.4、实施注意	147
六、	X5-6-字段定义	147
5.6.1、概述	147
5.6.2、功能说明	147
七、	X5-7-批量修改（功能没好，待写）	149
八、	X5-8-链接路径参数功能	149
5.8.1、概述	149
5.8.2、功能说明	149
九、	X5-9-条件参数	150
5.9.1、概述	150
5.9.2、功能说明	151
5.9.3、注意事项	153
十、	X5-10-分组功能	153
5.10.1、概述	153
5.10.2、应用场景说明	153
5.10.3、功能说明	154
十一、	X5-11-数据排序	155
5.11.1、概述	155
5.11.2、应用场景说明	155
5.11.3、功能说明	155
5.11.4、实施注意	157
十二、	X5-12-统计（功能没好--待写）	157
5.12.1、概述	157
5.12.2、应用场景说明	157
5.12.3、功能说明	157
5.12.4、实施注意	158
十三、	X5-13-查询关键字	158
5.13.1、概述	158
5.13.2、应用场景说明	158
5.13.3、功能说明	158
5.13.4、实施注意	160
十四、	X5-14-显示转换	160
5.14.1、概述	160
5.14.2、应用场景说明	160
5.14.3、功能说明	160
5.14.4、实施注意	164
十五、	X5-15-权限	164
5.15.1、概述	164
5.15.2、功能说明	165
十六、	X5-16-自定义按钮	172
5.16.1、概述	172
5.16.2、功能说明	172
十七、	X5-17-批量操作	176
5.17.1、概述	176
5.17.2、功能说明	176
第6章	浏览框	178
一、	X6-1-浏览框	178
6.1.1、概述	178
6.1.2、前端效果	178
6.1.3、功能配置说明	178
二、	X6-2-基础	181
6.2.1、概述	181
6.2.2、功能说明	181
三、	X6-3-固定查询条件	183
6.3.1、概述	183
6.3.2、应用场景说明	183
6.3.3、功能说明	184
6.3.4、实施注意	185
四、	X6-4-字段定义	185
6.4.1、概述	185
6.4.2、功能说明	186
五、	X6-5-排序功能	187
6.5.1、概述	187
6.5.2、应用场景说明	187
6.5.3、功能说明	187
6.5.4、实施注意	188
六、	X6-6-快捷搜索字段	189
6.6.1、概述	189
6.6.2、应用场景说明	189
6.6.3、功能说明	189
6.6.4、实施注意	191
七、	X6-7-浏览框列表	191
6.7.1、概述	191
6.7.2、应用场景说明	191
6.7.3、功能说明	191
6.7.4、实施注意	192
八、	X6-8-日志	192
6.8.1、概述	192
6.8.2、功能说明	192
九、	X6-9-浏览框支持明细表	193
6.9.1、概述	193
6.9.2、应用场景说明	193
6.9.3、功能说明	194
6.9.4、实施注意	195
第7章	树	196
一、	X7-1-导航树	196
7.1.1、概述	196
7.1.2、应用场景说明	196
7.1.3、功能说明	196
二、	X7-2-树形浏览框	199
7.2.1、概述	199
7.2.2、应用场景说明	199
7.2.3、功能说明	200
三、	X7-3-树(案例：组织结构树)	203
7.3.1、概述	203
7.3.2、场景说明	203
7.3.3、功能说明	204
第8章	自定义页面	208
一、	X8-1-概述	208
二、	X8-2-应用场景说明	208
三、	X8-3-功能说明	208
四、	X8-4-实施注意	209
第9章	提醒	209
一、	X9-1-概述	209
二、	X9-2-功能说明	211
9.2.1、到期提醒	211
9.2.2、即时提醒	214
9.2.3、循环提醒	216
9.2.4、自定义流程提醒	219
三、	X9-3-注意事项	222
第10章	Web Service	223
一、	X10-1-Web Service	223
10.1.1、webservice 使用前提	223
10.1.2、建模webservices 提交的接口介绍	223
二、	X10-2-保存（新建，更新）	226
10.2.1、方法介绍	226
10.2.2、实例效果	226
三、	X10-3-删除表单数据	227
10.3.1、方法介绍	227
10.3.2、实例效果	227
四、	X10-4-获取表单数据总数	228
10.4.1、方法介绍	228
10.4.2、实例效果	228
五、	X10-5-获取表单内容	229
10.5.1、方法介绍	229
10.5.2、实例介绍	229
六、	X10-6-获取表单数据列表（分页）	234
10.6.1、方法介绍	234
10.6.2、实例效果	234
第11章	导入导出	240
一、	X11-1-应用导入导出	240
11.1.1、概述	240
11.1.2、功能说明	240
11.1.3、实施注意	243
二、	X11-2-模块导入导出	243
11.2.1、概述	243
11.2.2、功能说明	243
第12章	视图组件	245
一、	X12-1-资源面板	245
12.1.1、概述	245
12.1.2、应用场景说明	245
12.1.3、功能说明	245
第13章	其他	251
一、	X13-1-未读，反馈标识	251
13.1.1、概述	251
13.1.2、应用场景说明	251
13.1.3、功能说明	252
13.1.4、实施注意	253
二、	X13-2-建模分权	253
13.2.1、概述	253
13.2.2、应用场景说明	253
13.2.3、功能说明	254
13.2.4、实施注意	262
三、	X13-3-回复评论	263
13.3.1、概述	263
13.3.2、功能说明	264
13.3.3、注意事项	269
四、	X13-4-建模门户元素	269
13.4.1、概述	269
13.4.2、应用场景说明	270
13.4.3、功能说明	270
13.4.4、实施注意	272
五、	X13-5-明细表数据过滤及排序功能	273
13.5.1、概述	273
13.5.2、应用场景说明	273
13.5.3、功能说明	273

前 言
关于本手册
本手册是泛微协同管理平台E-cology9.0基础版本的系统维护手册，主要为了指导用户管理员使用本产品而编写。
手册结构
本手册针对管理员管理泛微协同管理平台E-cology进行详尽描述。
以下是关于本手册的基本结构
引言 建模引擎
第1章 一个简单资产管理实例讲解
第2章 应用
第3章 模块
第4章 表单
第5章 查询
第6章 浏览框
第7章 树
第8章 自定义页面
第9章 提醒
第10章 Web Service
第11章 导入导出
第12章 视图组件
第13章 其他
针对用户
本手册针对泛微协同管理平台E-cology的最终用户的系统管理员及模块功能管理员，模块管理员必需具备基本的计算机操作技能，熟悉Windows操作环境并且已经掌握基本的软件操作方法，掌握Internet Explorer浏览器的基本使用，系统管理员还必须对数据库有基本的了解。
更多资源
本手册涵盖泛微协同管理平台E-cology系统功能的后台维护和配置操作指导，如果您能够详细的阅读本手册，就可以对泛微协同管理平台E-cology进行日程的维护工作。同时向用户提供多种帮助资源，以便您能够熟练使用本产品，从而感受到它的快捷易用。您可以根据实际情况，选择其中适应的方式。
应用培训期刊
泛微定期通过电子邮件发送《泛微应用培训期刊》向用户介绍使用泛微软件过程中可能遇到的问题和泛微软件功能应用技巧，提升客户的泛微软件应用水平，加强与泛微客户的广泛交流。
培训
针对大规模企业用户，泛微软件有限公司可为其组织上门培训，培训内容包括：产品功能使用、系统管理员培训、系统应用推广、产品使用技巧等。用户可以自行选择培训时间和内容。
电 话： 021－50942228 转 客户服务部

引言 建模引擎
概述
表单建模平台主要用来实现客户的个性化需求、类似新增一个全新的功能模块，而此功能模块我们只需要在后台通过简单的配置就可实现，以及跟流程配合使用，实现业务数据流转。我们全新的功能模块数据也可以展现在门户上方便我们快速查看。
表单建模提供了一些代码接口，我们外加一些简单的开发，也能方便的实现复杂的业务数据管理。
表单建模也可以承载我们异构系统中的数据，在我们的系统中我们可以配置个性化的界面对异构系统中的数据实现增删改查。
一个简单资产管理实例讲解
概述
我们通过搭建资产管理实例来讲解 ,资产管理是对系统内资产信息进行分配、追踪资产入库的记录的一个应用。
为了实现这些功能我们需要搭建的模块有：资产组--对资产进行分类、资产信息--记录资产的基本信息、资产入库记录--追踪资产入库记录。

X1-2-【资产组搭建】
1.2.1、概述
资产组模块的主要功能：用于对资产进行分类。
通过该模块的搭建主要涉及功能为怎么创建应用、模块、添加模块权限及发布前端创建菜单、创建查询列表及发布查询列表菜单、前端增删改查操作。
1.2.2、创建应用
点击【后端应用中心】-【建模引擎】-【应用建模】在此页面的左侧选择“所有应用”右键（如图X1-2-1）

X1-2-1
点击图中“新建下级应用”按钮弹出的页面（如图X1-2-2）可以在此页面上写入应用的名称，点击“保存”即可

X1-2-2
1.2.3、创建模块
1.2.3.1、模块信息
点击1.2.2、创建应用 步骤中创建的应用，然后再点击“模块”菜单（如图X1-2-3）

X1-2-3
在页面上右键点击“新建模块”按钮出现的效果（如图X1-2-4）

X1-2-4
在图X1-2-4页面名称中填写“资产组”，然后点击下图中的加号图标新建表单数据（如图X1-2-5）

X1-2-5
1.2.3.2、创建表单
在上图页面我们可以创建自定义表单，添加表单名称和数据库表名然后点击“保存并进入详细设置”按钮就可以添加我们此表的列名，添加完之后的效果（如图X1-2-6）

X1-2-6
然后在模块中的表单选择此时创建的表单（如图X1-2-7）

X1-2-7
选择完之后的效果（如图X1-2-8）

X1-2-8
在图X1-2-8的页面上右键点击“保存”按钮之后的效果（如图X1-2-9）

X1-2-9
1.2.3.3、创建布局
在图X1-2-9的页面上创建新建布局、显示布局、编辑布局。点击图X1-2-9中的【初始化新模板】出来的效果（如图X1-2-10）

X1-2-10
在此页面上勾选需要在布局中显示的字段，然后点击下一步，选择布局样式之后点击完成按钮即可
勾选显示的字段后点击下一步出来的效果（如图X1-2-11）

X1-2-11
选择布局样式之后点击完成出来的效果（如图X1-2-12）

X1-2-12
点击图X1-2-12初始化出来的布局的效果（如图X1-2-13）

X1-2-13
说明：编辑布局和显示布局也可以按照上面同样的方法创建。可以设置不同的布局显示不同的字段。如果需求中对编辑和显示布局没有特殊要求的话我们也可以点击对勾图标选择我们已经创建好的布局。
1.2.3.4、添加权限
创建完模块的基础信息之后接下来我们就需要指定此模块的权限那些人拥有创建权限，那些人拥有编辑，查看或者完全控制权限。这些权限如何设置。
在1.2.3、创建模块 步骤创建的模块页面（如图X1-2-14）

X1-2-14
点击图X1-2-14页面的“权限”出来的效果（如图X1-2-15）

X1-2-15
在此权限页面（包括同级权限tab页面）我们需要设置模块的相关权限。此次我们对权限简单的讲解详如：
创建：表示哪些人有此模块的创建权限
创建人相关：表示和创建人相关的人有什么样的默认共享权限，默认创建人本人是有完全控制的权限
默认共享：表示哪些人有查看，编辑，完全控制的权限
监控权限：设置谁能点开此模块设置的监控列表的权限
批量导入：设置谁有批量导入的权限。有权限的人才会看到批量导入的按钮，sysadmin是不受权限控制的。
权限重构：针对单条规则进行历史数据权限重构
权限删除：针对删除一条默认共享权限规则时，选择删除该条规则对应的历史数据权限，不需要在删除权限后再操作权限重构
条件：用于在表单建模后台模块中的权限设置用于满足一定条件之后权限才会生效
此模块设置完权限的效果（如图X1-2-16）

X1-2-16
1.2.4、发布创建菜单
在1.2.3、创建模块 步骤创建的模块页面中，右键选择“创建菜单（新建）”（如图X1-2-17）

X1-2-17
点击“创建菜单(新建）”按钮出来的页面（如图X1-2-18）

X1-2-18
新建“新建资产组”菜单，发布到前端页面中（如图X1-2-19）

X1-2-19
点击前端'“新建资产组”菜单(如图X1-2-20)，可以新建资产组数据

X1-2-20
1.2.5、创建查询列表及发布前端菜单
点击应用然后再点击“查询“菜单然后右键点击”新建查询“出来的效果（如图X1-2-21）

X1-2-21
在图X1-2-21页面填写名称和表单名称右键点击“保存“按钮效果（如图X1-2-22）

X1-2-22
点击“字段定义“标签设置查询列表显示的列及列显示的顺序效果（如图X1-2-23）

X1-2-23
创建查询然后右键点击“创建查询菜单“（如图X1-2-24）

X1-2-24
点击“创建查询菜单“按钮出来的页面（如图X1-2-25）

X1-2-25
新建“资产组列表”菜单，发布到前端页面中（如图X1-2-26）

X1-2-26
发布到查询列表的前端菜单及页面（如图X1-2-27）

X1-2-27
1.2.6、前端增删改查操作
在前端有新建权限的人员在1.2.5、创建查询列表及发布前端菜单 步骤中发布的菜单页面里可以新增数据（如图X2-2-28）

X1-2-28
有编辑权限的人员可以点击一条数据进去右键有编辑按钮可以对此数据进行编辑（如图X1-2-29）

X1-2-29
有删除权限的人员点击一条数据进去右键有删除按钮点击此按钮可以删除此条数据此删除是真正的物理删除（如图X1-2-30）

X1-2-30
X1-3-【资产信息搭建】
1.3.1、概述
资产信息模块主要是记录资产基本信息，比如属于哪个资产组（资产组是一个单独的模块）、使用寿命、入库日期、报废日期等。
通过该模块的搭建主要涉及功能点为浏览框的使用。
1.3.2、搭建一个【资产信息】模块
有了X1-2-【资产组搭建】的基础，这里我们就作为巩固，以下步骤我们将快速搭建一个【资产信息】模块
点击【后端应用中心】-【建模引擎】-【应用建模】点击左侧的资产管理应用，然后是模块，右键新建一个“资产信息”模块（如图X1-3-1）

X1-3-1
在此模块上创建好此模块关联的表单，并且指定此模块的新建布局，显示布局、编辑布局、监控布局、打印布局，具体（如图X1-3-2）

X1-3-2
1.3.3、浏览框的应用
在【资产信息】模块中如何引用【资产组】模块中的数据？要实现此功能我们是通过表单建模中的浏览框功能来实现的。
接下来就详细介绍下浏览框的应用。
点击【后端应用中心】-【建模引擎】-【应用建模】-【浏览框】页面中，右键选择“新建浏览框”（如图X1-3-3）,填写“自定义浏览框名称”，表单名称中选择资产组表单保存

X1-3-3
在资产组浏览框的“字段定义”tab页，设置此浏览框的显示字段和标题字段等（如图X1-3-4）

X1-3-4
然后再回到“基础”tab页，右键点击“创建浏览框按钮”创建浏览框按钮（如图X1-3-5）

X1-3-5
然后在“资产信息”模块的表单中创建自定义浏览框字段，然后引用这个标识（如图X1-3-6）

X1-3-6
以上步骤就是创建一个浏览框到表单引用此浏览框的过程。在“资产信息”的前端是如何引用这个模块的数据，具体效果如下。
新增资产信息页面（如图X1-3-7），点击“资产组”浏览按钮，我们可以引用到资产组数据

X1-3-7
X1-4-【资产入库记录】
1.4.1、概述
资产入库记录模块主要是资产入库记录追踪，方便用户查看。通过该模块的搭建主要涉及功能点为流程转数据、数据审批，页面扩展功能
1.4.2、【资产入库记录】模块的搭建及资产入库流程搭建
点击【后端应用中心】-【建模引擎】-【应用建模】点击左侧的资产管理应用，然后点击模块tab页面，右键新建一个“资产入库记录”模块（如图X1-4-1）

X1-4-1
在“资产入库记录”模块创建此模块关联的表单和此模块对应的新建布局，编辑布局、显示布局、监控布局、打印布局（如图X1-4-2）

X1-4-2
点击【后端应用中心】-【流程引擎】点击左侧的路径设置，新建“资产入库审批”流程保存（如图X1-4-3）

X1-4-3
配置节点信息，以及在节点前（后）附加操作，添加DML接口（如图X1-4-4）

X1-4-4
配置出口信息（如图X1-4-5）

X1-4-5
1.4.3、流程转数据功能的配置步骤
流程转数据是通过实现将流程中的数据转到表单建模的模块数据中，实现流程与表单建模数据的流转
点击资产入库记录模块中流程转数据tab页面，右键选择新建（如图X1-4-6）

X1-4-6
配置接口名称、流程类型、触发表单、触发类型、触发节点、触发时间保存（如图X1-4-7）

X1-4-7
新建流程转数据配置保存后，在基础信息中，开启“是否启用”开关，配置“资产入库审批”流程字段与“资产入库记录”模块字段映射保存（如图X1-4-8）

X1-4-8
同理在资产信息模块中，新建流程转数据配置，触发流程为“资产入库审批”，不同的是触发表单为“明细表”（如图X1-4-9）

X1-4-9
在前端“流程”菜单中，新建“资产入库审批”流程提交（如图X1-4-10）

X1-4-10
根据资产信息模块中流程转数据配置，到达“入库审批”节点时就会触发流程转数据功能,提交流程后，资
产信息列表中就会生成一条模块数据（如图X1-4-11）

X1-4-11
下一个节点操作者继续提交流程，同时在提交流程的过程会触发设置的DML接口执行，当节点到达归档时，根据“资产入库记录”流程转数据设置，会生成一条资产入库模块数据（如图X1-4-12）

X1-4-12
1.4.4、数据审批功能的配置
通过数据审批可以设置针对模块数据做相关操作时，触发相关的审批工作流，并将相关的数据带到流程中进行审批。
点击资产入库记录模块中数据审批tab页面，右键选择新建（如图X1-4-13）

X1-4-13
选择被触发流程类型后保存（如图X1-4-14），在设置页面中，配置模块字段和流程字段一一对应

X1-4-14
配置数据审批后，点击资产入库记录模块中的页面扩展，进入扩展名称“保存（新建）”设置页面中，开启“是否触发审批工作流程”开关保存（如图X1-4-15）

X1-4-15
在前端“资产入库记录”查询列表菜单中，新建资产入库记录信息选择“保存”按钮后（如图X1-4-16）

X1-4-16
会触发“资产入库审批”流程（如图X1-4-17）

X1-4-17
1.4.5、页面扩展功能
通过添加页面扩展，可以通过在当前页面的一些自定义的右键按钮或者tab页等页面扩展对相关联的模块进行操作。
例如在资产信息卡片页面中，可以通过鼠标右键的样式或者tab页面链接到入库资产记录模块。
点击【后端应用中心】-【建模引擎】-【应用建模】资产信息模块，点击【页面扩展】页面（如图X1-4-18），在页面上右键选择“新建”

X1-4-18
在自定义页面扩展配置页面中，填写扩展名称，链接目标为“资产入库记录”，显示样式可以选择“鼠标右键”，扩展用途选择“卡片页面”，配置好后保存（如图X1-4-19）

X1-4-19
在前端资产信息查询列表菜单中，点击某条资产信息卡片，在显示页面中选择右键菜单，可以看到自定义页面扩展右键按钮“资产入库记录”（如图X1-4-20）

X1-4-20
选择该右键菜单后，会链接到“资产入库记录”新建页面（如图X1-4-21）

X1-4-21
同理设置在tab页面链接到入库资产记录模块也跟上面步骤类似，这里就不一一讲解

X1-5-【资产树】
1.5.1、概述
主要讲述如何利用表单建模搭建一个简单的树形展现数据，刚好我们搭建了“资产组”和“资产信息”模块
资产信息模块中关联了资产组模块数据，通过树形样式展现两个模块之间的关联关系。
1.5.2、资产树配置
点击【建模引擎】-【应用建模】-【树】页面，右键菜单选择“新建”（如图X1-5-1）

X1-5-1
填写树形名称和根节点名称，显示样式默认为“导航树”后保存（如图X1-5-2）

X1-5-2
在资产树的树节点tab页面中，右键选择“新建树节点”（如图X1-5-3）

X1-5-3
跳转到树节点配置页面，填写树节点名称、选择数据源来源，配置显示名和链接目标来源等，保存该树节配置页面（如图X1-5-4）

X1-5-4
同理按照以上步骤，新建资产信息树节点（如图X1-5-5）

X1-5-5
设置资产组和资产信息树节点内容关联关系，需要在资产信息树节点配置页面中配置上级节点选择和上下级节点关联字段(如图X1-5-6)。

X1-5-6
上级节点：资产组
上下级节点关联字段：本节点字段：资产组（引用资产组表单生成的浏览框）和上级节点资产组：（表单）ID
保存资产信息树节点配置后，返回到树详情页面中，右键选择“创建菜单”发布到前端中，或者直接预览树菜单（如图X1-5-7）

X1-5-7
1.5.3、前台展示效果
在前端页面中，点击资产树菜单（如图X1-5-8），资产组和资产信息通过树的形式展现了两者之间的关联关系

X1-5-8
应用
概述
应用即为后台搭建表单建模的分类名称，比如要搭建一个客户管理模块，那么我们一般此处的应用名即为客户管理。
在此应用页面上，我们可以知晓此应用下包含的模块，表单，查询，浏览框，树形的数量。
也可以查看此应用的维护日志。
X2-2-功能说明
在系统【后端应用中心】-【建模引擎】-【应用建模】页面左侧可以新建应用（如图X2-2-1）

X2-2-1
1、新建下级应用：创建此应用的下级应用。
2、新建同级应用：创建此应用的同级应用。
3、编辑：编辑该应用的相关信息，名称、描述、显示顺序。
4、废弃：当此应用没有下级应用的时候，“废除”按钮不是灰色的 ,可以点击此按钮废弃掉没有用的应用,此按钮的操作动作不是真的删除。
5、删除：当此应用没有下级应用的时候，“删除”按钮不是灰色的，可以点击此按钮对应用、模块，以及对应的表单、查询、报表、浏览框、浏览框标识、树形、自定义页面进行物理删除。
6、应用组件：显示此应用下各个组件的数量，比如此应用下模块有多少个，表单有多少个等。
7、维护日志：记录应用的新增、修改等日志，包括人员和操作时间。
X2-3-应用删除
2.3.1、概述
通过应用删除和模块删除功能，可以对应用、模块，以及对应的表单、查询、报表、浏览框、浏览框标识、树形、自定义页面进行物理删除，让用户可以正常再次导入数据。
2.3.2、功能说明
1、开启该功能需要在\weaver\ecology\WEB-INF\prop\formmode.properties文件中加入配置信息：
canDeleteModeTreeField=Y
2、开启应用删除的开关后，在应用删除页面，可以操作删除（如图X2-3-1）

X2-3-1
3、选择删除后，会弹出选择页面，可以选择需要删除的内容（如图X2-3-2）

X2-3-2
3、说明：
1）如果表单被其他地方引用，如其他应用下的模块，其他流程，表单不允许删除。
2）如果表单中存在非本应用下的模块的数据，不允许删除。
3）如果表单中存在非模块数据，不允许删除。
4）如果浏览框被引用，不允许删除。
5）如果树形浏览框被引用，不允许删除。
6）只有应用下的所有内容删除后，应用才能被删除。
模块
概述
模块可以理解为一个子分类的名称 比如我们在应用中讲过 我们需要搭建一个客户管理模块的话 首先会在应用中创建
一个名为客户管理应用 那么客户管理模块 可能包括客户卡片，客户联系人，销售机会等
那么这些就可以理解为一个客户管理模块的一个子分类名 所有我们在模块中会创建名为 客户卡片，客户联系人的模块
实际模块可以理解 一个表单对应一个模块 比如 客户卡片需要建一张表 那么就需要建一个模块来挂这张表单。
X3-2-基础
3.2.1、概述
基础是模块的基础信息 包含模块关联的表单及模块的相关布局和一些功能的设置开关。
3.2.2、功能说明
通过进入【后端应用中心】-【建模引擎】-【应用建模】点击一个具体的“模块”（如图X3-2-1）

X3-2-1
页面属性说明：
名称：配置的模块名称
所属应用：此模块挂在那个应用下
表单名称：模块关联的表单（可以关联实际表单和虚拟表单）
初始化：初始化此模块的布局模板
显示布局：配置此模块对应的默认显示布局
新建布局：配置此模块对应的默认新建布局
编辑布局：配置此模块对应的默认编辑布局
监控布局：配置此模块对应的默认监控布局
打印布局：配置此模块对应的默认打印布局
附件上传目录：此模块关联的表单中附件类型的字段上传的附件存放的目录设置
允许创建时导入明细：卡片页面新建或编辑数据时，明细表数据是否允许导入，勾选表示允许导入，不勾选表示不允许导入
允许修改共享：默认共享勾选表示卡片页面上的默认共享可以编辑。非默认共享勾选表示用户可以在前端针对此卡片添加非默认共享的权限
回复评论是否在底部显示：表单建模开启回复评论功能后，该模块是否允许回复评论显示在卡片页面底部
是否流程赋权：流程引用通过该模块新建的浏览框，是否允许流程节点的操作者都赋予该模块的数据权限
显示顺序：后端模块的显示顺序，默认左侧按照显示顺序的升序排序
描述：针对此模块的说明
3.2.3、几个功能点说明
3.2.3.1、附件上传目录
附件上传目录用于表单上附件字段上传的附件存放的目录。上传的附件涉及的权限说明如下：
1、上传的附件默认拥有模块的所有权限，也就是说模块拥有什么权限 附件也同样拥有对应的权限
2、在前台删除模块的数据权限查看对应的附件目录的权限也会跟着删除。
3、权限页面右键添加了个文档权限重构按钮点击此按钮可以针对历史数据中的附件赋予当前模块中拥有的权限。
进入【模块】-【基础】设置页面中，在“附件上传目录”中选择附件存放的文档目录（如图X3-2-2）

X3-2-2
说明：
固定目录：表单上附件字段上传的附件全部放在同一个固定目录下
选择目录：表单上附件字段上传的附件会根据表单上选择框的字段值存放到不同的目录下（表单选择框字段必须每个选择项都配置一个目录）
在【模块】-【权限】页面中，右键选择“文档权限重构”（如图X3-2-3），默认共享权限人员可以有权限查看历史数据附件字段的内容，有模块权限人员可以在对应的文档目录中有权限查看历史数据附件字段内容

X3-2-3
3.2.3.2、默认共享和非默认共享
默认共享：是指后端【权限】-【默认共享】tab页中设置的权限为默认共享权限。勾选的话表示在数据卡片上点击共享按钮可以对此卡片的默认共享权限进行删除（如图X3-2-4）

X3-2-4
非默认共享：是指用户在前端具体卡片上添加的权限为非默认共享的权限。勾选的话表示拥有完全控制权限的人在前端可以添加非默认共享权限（如图X3-2-5）

X3-2-5
3.2.3.3、检测表单
此功能是用于检测表单中的字段与物理表中的列是否一致。（也就是模块关联的表单对应workflow_billfield表中的字段和生成的物理表中的列是否一致）具体操作（如图X3-2-6）

X3-2-6
说明：
1、点击“检测表单字段”按钮检测没问题的时候会在后面显示“检测通过”。
2、点击“检测表单字段”按钮检测不通过的时候 则会弹出不一样的的字段 供用户选择是否创建 一般都会创建。
注意：因表单中的字段和实际物理表中的列不一致的时候 新建卡片的时候会报错 所以此功能是用于解决物理表中莫名丢失列的问题。
3.2.3.4、明细导入
1、该功能用于模块关联表单存在明细表时，用户在新建或者编辑卡片数据时，可以导入明细数据。允许创建时导入明细分为：新建布局和编辑布局，勾选新建布局表示在新建布局允许导入明细，勾选编辑表示在编辑布局允许导入明细（如图X3-2-7）。

X3-2-7
2、新建布局导入明细：后端配置勾选新建导入明细，在前端新建卡片页面右键会有一个“明细导入”按钮（如图X3-2-8）

X3-2-8
点击“明细导入”，会提示“您还未保存数据，是否保存？”（如图X3-2-9）

X3-2-9
点击确定后，弹出明细导入页面，点击模板名称下载excel导入模板（如图X3-2-10）

X3-2-10
说明：
1）excel模板中的字段列为编辑布局中可编辑的字段；
2）excel模板会导出明细导入之前手动新增的数据，其中数据ID列用红色标注；
3）红色标注的数据ID不允许修改，该行所在数据修改后导入执行的更新，即更新已有数据；
4）新增的行数据ID保持为空，该行数据导入后执行的是新增。
修改或填写excel数据后，上传excel并点击“明细导入”，导入成功后（如图X3-2-11）

X3-2-11
2、编辑布局导入明细：后端配置勾选编辑导入明细，在前端编辑卡片页面右键会有一个“明细导入”按钮（如图X3-2-12）

X3-2-12
点击明细导入，弹出明细导入页面（如图X3-2-13）

X3-2-13
注：在编辑布局手动新增的数据必须手动保存，如果没有手动保存，在点击明细导入并执行导入后，手动新增的数据会被覆盖丢失（如图X3-2-14）。

X3-2-14
修改或填写excel数据后，上传excel并点击“明细导入”，导入成功后（如图X3-2-15）

X3-2-15
说明：
1）模板中红色区域的内容不允许修改，新增的行，数据ID必须为空
2）做导入的时候，数据ID会跟本主表ID相关的明细表数据才会去更新，如果把数据ID随便写了一个其他的数据，不是此主表对应的明细数据，不会更新的。
3）如果导出在模板中的数据，比如导出了5条数据，如果在模板中删除了其中一条，对删除的数据导入的时候不做任何改动。反正始终只做两个动作就是新增和更新。有数据ID的就更新，如果没有数据ID那么就是新增。
4）目前编辑布局中有根据条件过滤明细表数据的功能，比如我只显示负责人为当前用户的数据的功能，针对这种情况，如果此编辑布局上设置了布局的条件过滤的功能，那么此时在右键菜单上不显示“明细导入”的按钮（也就是这种情况下不支持明细导入的功能）。
5）在编辑布局下明细导入，当数据ID存在，做更新操作的时候，对于浏览框字段数据，例如人力资源，多人力资源，部门，多部门，如果导入的数据，系统不存在，给予提示，但是不去更新原有的浏览框字段数据。
X3-3-布局
3.3.1、概述
通过权限关联布局功能，可以设置不同权限的人员加载卡片信息时显示不同的布局。可设置不同的权限人员加载不同的新建布局、显示布局、编辑布局、监控布局。
3.3.2、应用场景说明
例如设置针对资产入库信息，在设置权限时，可以设置对应权限关联的布局，可以针对不同的部门设置不同的布局，如人事部的布局只显示人事部的意见，总经办的布局只显示总经办的意见，当不同的人员登录查看资产入库信息时，显示不同的内容。其他权限、其他布局也类似。
人事部人员查看资产入库信息（如图X3-3-1）：

X3-3-1
总经办人员查看资产入库信息（如图X3-3-2）：

X3-3-2
3.3.3、功能说明
1、进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，在对应的模块的布局tab页，显示该模板的所有布局，并且可以新建布局或者删除非默认布局（如图X3-3-3）

X3-3-3
说明：
1）列表中会显示对应模块的所有布局。
布局名称：对应布局的名称。
布局类型：对应布局的类型。
是否默认布局：对应布局是否为默认布局，是为默认布局，否为非默认布局。（默认布局是指在模块基础页面选择的布局）
2）新建显示布局：可以新建显示布局，点击进入新建新建布局页面。
3）新建新建布局：可以新建新建布局，点击进入新建新建布局页面。
4）新建编辑布局：可以新建编辑布局，点击进入新建编辑布局页面。
5）新建监控布局：可以新建监控布局，点击进入新建监控布局页面。
6）新建打印布局：可以新建打印布局，点击进入新建打印布局页面。
7）删除：删除选择的布局，默认布局不能勾选，不能进行删除。
2、也可以通过在模块的基础页面新建布局，新建的布局都会显示在布局列表页面（如图X3-3-4）

X3-3-4
说明：
1、选择相同类型的布局时为选中布局，选择不同类型的布局时，则会根据选择的布局复制生成对应的布局。
2、选择模板时无法选择显示布局，只能选择新建、编辑、监控、打印类型的布局模板。
3、进入模块的权限页面，设置权限以及对应的布局（如图X3-3-5）

X3-3-5
说明：新建权限时可以设置对应的布局。
1）创建权限：设置创建权限时可以设置对应权限人员的新建布局以及对应的布局级别。
2）创建人相关：可以设置与创建人相关的默认共享对应的布局以及布局级别。
查看：只能设置查看布局以及对应的布局级别。
编辑：可以设置查看布局以及编辑布局及对应的布局级别。
完全控制：可以设置查看布局以及编辑布局及对应的布局级别。
3）默认共享：可以设置默认共享权限对应的布局以及布局级别。
查看：只能设置查看布局以及对应的布局级别。
编辑：可以设置查看布局以及编辑布局及对应的布局级别。
完全控制：可以设置查看布局以及编辑布局及对应的布局级别。
4）监控权限：可以设置监控权限对应的监控布局以及布局级别。
5）布局级别：设置对应布局的优先级级别，当同一个人在多个权限中时，则会显示优先级最高的布局，数字越小，优先级越高。
6）默认布局：在模块基础中选择的布局为默认布局。
4、设置完布局后，在前端加载布局时则会根据权限关联的布局进行加载对应的布局。
3.3.3、实施注意
1、在基础页面只能选择新建、编辑、监控、打印布局进行选择或者复制生成对应的布局。
2、在布局列表中不能删除默认布局。
3、在查询列表中设置了监控权限时，则只有查询列表中的有监控权限的人员才有监控列表菜单权限，但是在查询列表中是无法设置监控布局的，如果需要指定监控布局，则需要在权限中也设置对应的权限。
4、打印布局与权限不进行关联，但是可以新建多个打印布局提供选择。
5、当同一个人员在多条权限规则中时，则以根据布局级别进行加载，如果级别一样，则根据数据库中的顺序加载。
X3-4-权限
3.4.1、概述
模块权限即设置模块的默认共享权限。
3.4.2、功能说明
模块权限可以设置创建权限、创建人相关、默认共享、监控权限、批量导入权限。
创建权限：可以设置模块数据的创建权限。
创建人相关：可以设置与创建人相关的模块数据共享权限，可以设置创建人本人、创建人直接上级、创建人所有上级，创建人本分部、创建人本部门的人员的默认共享权限。
默认共享：可以设置与创建人无关的默认共享权限。
监控权限：可以设置监控列表菜单的访问权限。
批量导入权限：可以设置查询列表中批量导入功能的权限。
3.4.2.1、创建权限
创建权限是指模块数据的创建权限，有权限的人才能在前台新建模块数据，否则前台点击创建菜单提示无权限，列表中不显示新建菜单。
创建权限共享类型有人员、部门、分部、角色、所有人、岗位这6种类型（如图X3-4-1）。

X3-4-1
1、人员：共享类型为人员时，可以设置指定的人员有新建权限，有权限的人在前台可以新建对应模块的数据，没有权限的人在前台模块创建菜单没有权限访问，列表中不显示新建按钮。
2、部门：共享类型为部门时，可以结合安全级别设置指定部门或者指定部门的所有上级部门或者所有下级部门下的人员有新建权限。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：可以设置某个范围的安全级别
添加权限后，权限列表中对应部门下某个安全级别范围内的人员都有新建权限，可以正常通过前台创建菜单或者查询列表中的新建菜单新建对应模块的数据

3、分部：共享类型为分部时，可以结合安全级别设置指定分部或者指定分部的所有上级分部或者所有下级分部下的人员有新建权限。
1）选择：选择要添加权限的分部，可以添加多个分部。
2）安全级别：可以设置某个范围的安全级别。
添加权限后，权限列表中对应分部下满足某个范围内的人员都有新建权限，可以正常通过前台创建菜单或者查询列表中的新建菜单新建对应模块的数据。

4、角色：共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有新建权限。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模有新建权限的级别。
部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有新建权限。
分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有新建权限。
总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有新建权限。
3）安全级别：设置表单建模有新建权限的人员的安全级别范围。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别满足设置的安全级别范围的成员才有新建权限，可以正常通过前台创建菜单或者查询列表中的新建菜单新建对应模块的数据。

5、所有人：共享类型为所有人时，可以结合安全级别设置组织架构中的人员有新建权限。
1）安全级别：设置人员的安全级别范围。
添加所有人相关权限后，系统组织架构满足设置的安全级别范围内的人员有新建权限，可以正常通过前台创建菜单或者查询列表中的新建菜单新建对应模块的数据。

6、岗位：共享类型为岗位时，可以结合岗位级别、安全级别设置对应岗位的人员有新建权限。
1）多岗位：选择要设置权限的岗位
2）岗位级别：设置表单建模有新建权限的级别。
指定部门：岗位级别为指定部门时，则指定部门下的该岗位都有新建权限。
指定分部：岗位级别为指定分部时，则指定分部下的该岗位都有新建权限。
总部：岗位级别为总部时，则组织架构中的该岗位都有新建权限。
添加岗位相关权限后，只有当符合岗位级别且安全级别满足设置的安全级别范围内的成员才有新建权限，可以正常通过前台创建菜单或者查询列表中的新建菜单新建对应模块的数据。
3.4.2.2、创建人相关
可以设置与创建人相关的人员的默认共享权限，设置默认共享权限后，前台新建的模块数据会根据设置的默认共享（创建人相关）赋予数据的默认共享权限，有权限的人对相关数据有相应的操作权限。
创建人相关权限类型有创建人本人、创建人直接上级、创建人所有上级、创建人本分部、创建人本部门、创建人本岗位这6种类型（如图X3-4-2）

X3-4-2
1、创建人本人：只允许创建人本人有相关的权限，可以设置创建人本人的权限有：没有权限、查看、编辑、完全控制。
没有权限：设置该项后，创建人本人创建完数据后，没有查看权限。
查看：设置该项后，创建人本人创建完数据后，也只有查看权限，不能编辑、删除数据。
编辑：设置该项后，创建人创建数据后，创建人本人可以查看和编辑对应的数据，但是不能删除数据。
完全控制：设置该项后，创建人创建数据后，创建人本人可以查看、编辑、删除对应的数据。

2、创建人直接上级：可以设置模块数据创建人的直接上级有相关的权限，可以设置创建人的直接上级的权限有：没有权限、查看、编辑、完全控制。
没有权限：设置该项后，创建人创建完数据后，创建人的直接上级没有权限。
查看：设置该项后，创建人创建完数据后，创建人的直接上级只有查看权限，不能编辑、删除数据。
编辑：设置该项后，创建人创建完数据后，创建人的直接上级可以查看和编辑对应的数据，但是不能删除数据。
完全控制：设置该项后，创建人创建数据后，创建人的直接上级可以查看、编辑、删除对应的数据。

3、创建人所有上级：可以设置模块数据的创建人的所有上级有相关的权限，可以设置创建人的所有上级的权限有：没有权限，查看，编辑，完全控制
没有权限：设置该项后，创建人创建完数据后，创建人的所有上级没有权限。
查看：设置该项后，创建人创建完数据后创建人的所有上级只有查看权限，不能编辑，删除数据。
编辑：设置该项后，创建人创建完数据后，创建人的所有上级可以查看和编辑对应的数据。但是没有删除权限。
完全控制：设置该项后创建人创建数据后，创建人的所有上级可以查看，编辑，删除对应的数据。

4、创建人本分部：可以结合安全级别设置与创建人同一分部的人员有相关的权限，可以设置的权限有：没有权限、查看、编辑、完全控制。
（备注：该项设置只针对与创建人相同分部的，不包含下级分部）
没有权限：设置该项后，与创建人相同分部的人员没有权限。
查看：设置该项后，与创建人相同分部且安全级别满足设置的安全级别范围内的人员有查看权限，不能编辑、删除数据。
编辑：设置该项后，与创建人相同分部且安全级别满足设置的安全级别范围内的人员可以查看和编辑对应的数据，但是不能删除数据。
完全控制：设置该项后，与创建人相同分部且安全级别满足设置的安全级别范围内的人员可以查看、编辑、删除对应的数据。

5、创建人本部门：可以结合安全级别设置与创建人同一部门的人员有相关的权限，可以设置的权限有：没有权限、查看、编辑、完全控制。
（备注：该项设置只针对与创建人相同部门的，不包含下级部门）
没有权限：设置该项后，与创建人相同部门的人员没有权限。
查看：设置该项后，与创建人相同部门且安全级别满足设置的安全级别范围内的人员有查看权限，不能编辑、删除数据。
编辑：设置该项后，与创建人相同部门且安全级别满足设置的安全级别范围内的人员可以查看和编辑对应的数据，但是不能删除数据。
完全控制：设置该项后，与创建人相同部门安全级别满足设置的安全级别范围内的人员可以查看、编辑、删除对应的数据。

6、创建人本岗位：可以设置模块数据的创建人的岗位的人有相关的权限，可以设置创建人的岗位的权限有：没有权限，查看，编辑，完全控制
没有权限：设置该项后，创建人创建完数据后，创建人的岗位没有权限。
查看：设置该项后，创建人创建完数据后，创建人的岗位只有查看权限，不能编辑，删除数据。
编辑：设置该项后，创建人创建完数据后，创建人的岗位可以查看和编辑对应的数据。但是没有删除权限。
完全控制：设置该项后创建人创建数据后，创建人的岗位可以查看，编辑，删除对应的数据。

7、更新表单数据：打开更新表单数据开关，然后右键点击“保存”按钮之后历史数据会针对此规则进行权限重构。

8、添加条件：添加条件用于权限必须要满足一定条件之后才会生效

3.4.2.3、默认共享
设置模块数据的默认共享权限，设置默认共享权限后，模块数据新建后，会对对应的数据赋予默认共享权限，有权限的人可以对相关数据有相应的操作权限。
默认共享权限的共享类型有人员、部门、分部、角色、所有人、岗位、模块字段、矩阵（如图X3-4-3）。

X3-4-3
1、人员：共享类型为人员时，可以设置指定的人员有默认共享的权限项，可以添加多个权限项。
1）选择：选择指定的人员。
2）权限项：设置指定的人员的权限是查看、编辑或者完全控制。
3）更新表单数据：勾选后会更新该模块已经存在的数据，会更新历史数据的当前权限项；如果不勾选则不会更新该模块的历史数据的权限。
添加权限后，权限列表中有权限的人会按照设置的权限项（查看、编辑、完全控制）赋予模块数据权限。

2、部门：共享类型为部门时，可以结合安全级别设置某些部门或者某些部门的所有上级部门或者所有下级部门的人员有默认共享权限，可以添加多个权限项。
1）选择：选择选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
3）权限项：设置指定的部门下符合条件的人员的权限是查看、编辑或者完全控制。
添加权限后，权限列表中对应部门下安全级别大于或者等于设置的值的人员有默认共享权限，根据权限项设置有模块数据的查看、编辑或者完全控制权限。

3、分部：共享类型为分部时，可以结合安全级别设置某些分部或者某些分部所有上级分部或者所有下级分部的人员有默认共享权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
3）权限项：设置指定的分部下符合条件的人员的权限是查看、编辑或者完全控制。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有默认共享权限，可以根据权限项设置是有模块收的查看、编辑或者完全控制权限。

4、角色：共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有默认共享权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）角色是否受范围限制：
否表示添加的角色的成员的角色级别大于或者等于共享级别设置级别的成员拥有权限。
选择是之后选择“字段类型”，“限制字段”此规则表示：
字段类型选择“人员”，限制字段：选择具体的某个人员表示人员所在的部门和角色中成员的部门一致的时候角色中的此成员拥有对应的权限
字段类型选择“部门”，限制字段：选择具体的某个部门表示选择的部门与角色中成员所在的部门一致的时候角色中的此成员拥有对应的权限
字段类型选择“分部”，限制字段：选择具体的某个分部表示选择的分部与角色中成员所在的分部一致的时候角色中的此成员拥有对应的权限。
3）共享级别：设置表单建模有默认共享权限的级别。（角色级别是否受限制选择否的时候有用）
部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有默认共享权限。
分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有默认共享权限。
总部：共享级别为总部时，则所选择的角色中只有级别为总不的成员才有默认共享权限。
4）安全级别：设置表单建模有默认共享权限的人员的安全级别。
5）权限项：设置指定的分部下符合条件的人员的权限是查看、编辑或者完全控制。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有默认共享权限，可以根据权限项设置对应的角色成员是有查看、编辑或者完全控制权限。

5、所有人：共享类型为所有人时，可以结合安全级别设置组织架构中的人员有默认共享权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
2）权限项：可以设置符合条件的人员的权限是查看、编辑或者完全控制。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有默认共享权限，可以根据权限项设置对应的人员是有查看、编辑或者完全控制权限。

6、岗位：共享类型为岗位时，可以结合岗位级别、安全级别设置对应岗位的人员有默认共享权限，可以添加多个权限项。
1）多岗位：选择要设置权限的岗位
2）岗位级别：设置表单建模有默认共享的级别
指定部门：岗位级别为指定部门时，则指定部门下的该岗位都有默认共享权限。
指定分部：岗位级别为指定分部时，则指定分部下的该岗位都有默认共享权限。
总部：岗位级别为总部时，则组织架构中的该岗位都有默认共享权限。
添加岗位相关权限后，只有当符合岗位级别且安全级别满足设置的安全级别范围内的人员有默认共享权限，可以根据权限项设置对应的人员是有查看、编辑或者完全控制权限。

7、模块字段：即模块关联表单中的字段，可设置权限的模块字段有：人力资源、多人力资源、部门、多部门、分部、多分部、岗位、多岗位。设置共享为模块字段后，后续权限规则等同于直接设置共享类型为人力资源、部门、分部、岗位，具体参照上述1-6条。
3.4.2.4、监控权限
设置监控菜单的访问权限，模块中的监控权限是以模块为维度来设置该模块的监控列表的菜单权限，有监控权限的人员可以正常访问监控列表，在模块中设置监控权限表示拥有监控列表菜单的访问权限和监控列表数据中的删除权限。查询列表中设置的监控权限只表示对监控列表菜单的访问权限。监控权限是控制监控菜单的访问权限，监控列表中会显示创建监控菜单的列表中引用的对应模块的所有数据。
监控权限的共享类型有人员、部门、分部、角色、所有人、岗位（如图X3-4-4）

X3-4-4
1、人员：共享类型为人员时，可以设置指定的人员有监控权限，有权限的人在前台可以正常访问监控菜单，没有权限的人访问对应的监控菜单会提示没有权限。

2、部门：共享类型为部门时，可以结合安全级别设置某个部门或者某几个部门的人员有监控权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应部门下安全级别符合设置的值的人员都有监控权限，可以在前台正常访问监控菜单，没有权限的人访问菜单会提示无权限。

3、分部：共享类型为分部时，可以结合安全级别设置某个分部或者某几个分部下的人员有监控权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有监控权限，可以在前台正常访问监控菜单，无权限的人访问监控菜单会提示无权限。

4、角色：共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有监控权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模中对应模块有监控权限的级别。
2部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有监控权限。
2分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有监控权限。
2总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有监控权限。
3）安全级别：设置表单建模有监控权限的人员的安全级别。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有监控权限，有权限的人员在前台可以正常访问监控菜单，没有监控权限的人员在前台访问监控菜单会提示无权限。

5、所有人：共享类型为所有人时，可以结合安全级别设置组织架构中的人员有监控权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有监控权限，有监控权限的人员在前台可以正常访问监控菜单，没有权限的人员在前台访问监控菜单会提示无权限。

6、岗位：共享类型为岗位时，可以结合岗位级别、安全级别设置对应岗位的人员有监控权限，可以添加多个权限项。
1）多岗位：选择要设置权限的岗位
2）岗位级别：设置表单建模有监控权限的级别
指定部门：岗位级别为指定部门时，则指定部门下的该岗位都有监控权限。
指定分部：岗位级别为指定分部时，则指定分部下的该岗位都有监控权限。
总部：岗位级别为总部时，则组织架构中的该岗位都有监控权限。
添加岗位相关权限后，只有当符合岗位级别且安全级别满足设置的安全级别范围内的人员有监控权限，有监控权限的人员在前台可以正常访问监控菜单，没有权限的人员在前台访问监控菜单会提示无权限。
3.4.2.5、批量导入
批量导入权限可以设置前台模块对应的列表中是否可以操作批量导入，有批量导入权限的人员在在前台对应模块的查询列表中可以通过右键菜单批量导入导入模块数据。
批量导入权限的共享类型有人员、部门、分部、角色、所有人、岗位这6种类型（如图X3-4-5）。

X3-4-5
1、人员：共享类型为人员时，可以设置指定的人员有批量导入权限，有权限的人在前台查询列表中可以通过操作菜单中的【批量导入】执行批量导入操作。

2、部门：共享类型为部门时，可以结合安全级别设置某个部门或者某几个部门的人员有批量导入权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应部门下安全级别符合设置的值的人员都有批量导入权限，可以在前台查询列表中通过操作菜单中的【批量导入】执行批量导入操作。

3、分部：共享类型为分部时，可以结合安全级别设置某个分部或者某几个分部下的人员有批量导入权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有批量导入权限，可以在前台查询列表中通过操作菜单中的【批量导入】执行批量导入操作。

4、角色：共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有批量导入权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模中模块对应的查询列表有批量导入权限的级别。
2部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有批量导入权限。
2分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有批量导入权限。
2总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有批量导入权限。
3）安全级别：设置表单建模中对应模块的查询列表有批量导入权限的人员的安全级别。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有批量导入权限，有批量导入权限的人员可以在前台查询列表中通过操作菜单中的【批量导入】执行批量导入操作。

5、所有人：共享类型为所有人时，可以结合安全级别设置组织架构中的人员有批量导入权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有批量导入权限，有批量导入权限的人员可以在前台查询列表中通过操作菜单中的【批量导入】执行批量导入操作。

6、岗位：共享类型为岗位时，可以结合岗位级别、安全级别设置对应岗位的人员有批量导入权限，可以添加多个权限项。
1）多岗位：选择要设置权限的岗位
2）岗位级别：设置表单建模有批量导入权限的级别
指定部门：岗位级别为指定部门时，则指定部门下的该岗位都有批量导入权限。
指定分部：岗位级别为指定分部时，则指定分部下的该岗位都有批量导入权限。
总部：岗位级别为总部时，则组织架构中的该岗位都有批量导入权限。
添加岗位相关权限后，只有当符合岗位级别且安全级别满足设置的安全级别范围内的人员有批量导入权限，有批量导入权限的人员可以在前台查询列表中通过操作菜单中的【批量导入】执行批量导入操作。

7、导入类型：导入类型有全部类型，追加，覆盖，更新。其中全部类型就包含后面的三种类型。导入类型是用于设置批量导入的时候导入类型显示哪种类型。如果我在此处设置了“追加”那么在拥有批量导入权限的人员在批量导入页面导入类型只有“追加”。
3.4.3、重要的功能点
 3.4.3.1、权限规则条件
此功能用于在表单建模后台模块中的权限设置用于满足一定条件之后权限才会生效。
1、目前权限规则条件只用于默认共享（创建人相关），默认共享两块设置的权限规则。
2、默认共享（创建人相关）需要设置了某种权限类型右键保存之后才会出现条件。
目前权限规则条件功能设置条件有两种方式
第一种界面化的形式设置（普通类型），第二种通过写sql的方式（sql）
在【后端应用中心】-【建模引擎】-【应用建模】-【模块】，选择对应的模块，进入权限的创建人相关或者默认共享tab页，点击需要添加条件的默认共享规则后的添加条件。（如图X3-4-6）

X3-4-6
1、此功能虚拟表单挂的模块设置的权限也支持，此功能的生效是需要单独点开卡片的时候才会判断，列表中的数据是不会判断的，虚拟表单是默认所有人拥有查看权限的。
2、在权限上添加条件或者清空条件都需要点击“权限重构”按钮老数据才会生效。
3、默认共享（创建人相关）添加条件或者清空条件，开启后面的“更新表单数据”开关保存之后老数据也会生效。

 3.4.3.2、单条规则权限重构
此功能用于为表单建模实现存在历史数据的情况下，新增一条权限规则时，针对该条规则进行权限重构。

通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，选择对应的模块，进入权限的默认共享tab页，点击需要重构的默认共享权限规则后的权限重构。（如图X3-4-7）

X3-4-7
点击权限重构后，弹出提示，是否需要对此规则历史数据进行重构，确认重构，取消不重构。
确认重构后，会弹出重构框，显示需要重构的数据量，以及重构的进度（如图X3-4-8）

X3-4-8
 3.4.3.3、单条规则删除及删除权限数据
此功能用于为表单建模实现删除默认共享单条规则时，可以选择是否需要删除当前规则对应的数据权限。
通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，选择对应的模块，进入权限的默认共享tab页，点击需要删除的默认共享权限规则后的权限删除。（如图X3-4-9）

X3-4-9
点击权限删除后，弹出提示，确认是否要删除，点击确定删除，点击取消不删除。
确定删除权限规则后，弹出提示是否删除此权限对应的数据权限，确定删除，取消不删除。如果选择删除权限对应数据权限，则模块历史数据对应的权限会被删除，不需要再操作权限重构。如果选择不删除当前权限对应的数据权限，则历史数据权限仍然存在，新建的数据则按照新的权限规则。
X3-5-默认值
3.5.1、概述
通过默认值功能可以针对一些可以值固定的字段或者部分内容相同时，在默认值中设置默认值信息，免去了新建卡片数据时重新填写数据。
3.5.2、应用场景说明
当模块卡片数据中指定字段的内容相同时，可以通过设置默认值功能设置指定字段的默认值，也可以设置人员、部门、日期等字段设置为空值，则在新建卡片时，则会显示设置的默认值，免去了重复填写的麻烦。
如资产信息的备注中需要告诉使用人爱惜使用，则可以将“请爱惜使用！”等内容设置到默认值中，在新建卡片时资产信息字段内容中会默认显示相关默认值信息（如图X3-5-1）。

X3-5-1
3.5.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】，在对应模块的默认值tab页，可以选择目标字段进行设置（如图X3-5-2）。

X3-5-2
说明：
1）默认值设置：通过选择目标字段并设置目标字段的值后操作右键添加添加默认值设置。
2）表达式：显示已经添加的默认值设置。
3）右键-添加：添加默认值设置信息，如果选择的字段已经在表达式中，则当前设置会覆盖已有设置。
4）右键-删除：删除默认值设置，可以勾选需要删除的默认值设置操作删除。
2、设置默认值后，前台新建卡片页面，设置了默认值的字段会默认显示设置的默认值信息（如图X3-5-3）。

X3-5-3
3.5.4、实施注意
1、当要添加的默认值设置对应的字段在表达式中存在时，则会覆盖原有的设置。
2、当需要设置指定字段默认值为空时，在选择目标字段不设置值直接添加即可。
3、当通过在布局中设置了默认值时，则以布局中的设置为优先。
X3-6-属性联动
3.6.1、概述
模块的属性联动是可以通过设置模块的新建布局或者编辑布局，字段属性根据选择框的值设置为只读、编辑或者必填。
3.6.2、应用场景说明
可以设置在新建或者编辑卡片数据时，根据选择框类型字段的值，设置相应字段的必填、编辑、只读、隐藏属性。
如需要设置新建客户卡片信息，如果客户状态是签约时，必须填写客户行业；如果客户状态是潜在时，必须填写客户规模。则可以在新建布局中设置，客户状态为签约时，客户行业必填，客户状态为潜在时，客户规模必填（如图X3-6-1）。

X3-6-1
3.6.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】，在对应的模块的属性联动页面，可以在新建布局或者编辑布局中设置属性联动信息（如图X3-6-2）。

X3-6-2
说明：
1）布局：选择要设置属性联动的是新建模板还是编辑模板。
2）选择框：需要要触发属性联动的选择框信息，仅显示对应布局中可编辑的选择框字段。
3）选择框值：选择属性联动对应的选择框的值。
4）变更字段：设置需要变更属性的字段，仅显示对应布局中可编辑的字段。
5）显示属性：设置属性联动对应变更字段的显示属性是必填、编辑、只读、隐藏。

2、设置属性联动后，前台对应新建或者编辑卡片页面，修改设置属性联动字段的选择框的值，则对应的字段的显示属性也会根据设置进行变化（如图X3-6-3）。

X3-6-3
3.6.4、实施注意
1、只有对应布局中可编辑的字段才可以进行属性联动设置。
2、可以分别设置新建模板或者编辑模板对应字段的属性联动。
3、属性联动设置时，选择框字段是明细表字段时，设置变更字段时，只能选择对应明细表字段；主表字段时，只能选择主表字段。
X3-7-字段联动
3.7.1、概述
通过字段联动，在填写其中一个字段的信息时，可以将其他表单中相关联的字段的内容赋值到当前卡片信息中，可以省去了相同字段重复填写的麻烦，也保证了数据的一致性。
3.7.2、应用场景说明
当两个不同表单中存在相同内容的字段时，可以在填写其中一个字段内容后，带出相关联表单中的数据到当前表单对应字段中。
如客户联系记录、客户信息中都存在客户状态信息，当新建客户联系记录时，从客户信息列表中选择客户时，会将该客户的客户状态自动带到客户联系记录卡片信息中（如图X3-7-1）。

X3-7-1
3.7.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】在相应的模块的字段联动tab页添加字段联动设置（如图X3-7-2）。

X3-7-2
字段联动设置：
触发名称：填写出字段联动设置的触发名称以识别字段联动设置。
触发字段：选择要触发字段联动的字段，可选主表字段或者明细表字段。
所属表类型：触发字段的表类型
数据源：可以选择外部数据源。
引用数据库表名：选择字段联动设置要引用数据的数据库表，选择表单后会自动带出表名，可以设置别名。
表之间关联条件：当设置了多个引用的数据表时，可以在此处设置表之间关联条件。
取值设置：设置字段联动模块表与引用表之间的取值设置关系，设置当前模块字段与引用表之间的条件关系相关字段。
赋值设置：设置字段联动模块表与引用表之间的赋值设置关系，设置当前模块字段与引用表字段的对应关系。
添加触发设置：可以添加多个触发设置。
2、设置字段联动后，前台新建、编辑卡片数据时，显示效果（如图X3-7-3）。

X3-7-3
3.7.4、实施注意
1、字段联动支持字段类型有：
触发字段：单行文本（单文本、整数、浮点数、金额转换、金额千分位）、浏览框（人力资源等浏览框单选）、浏览框（自定义单选）、浏览框（自定义树形单选）、选择框、多文本。
取值字段：单行文本（单文本、整数、浮点数、金额转换、金额千分位）、浏览框（单选）、浏览框（自定义树形单选）、选择框、普通多文本。
赋值字段：支持的字段类型：单行文本（单文本、整数、浮点数、金额转换、金额千分位）、多文本（普通）、选择框、check框、人力资源等系统浏览框、浏览框-日期、浏览框-时间、自定义单/多选、自定义树形单/多选。
2、设置赋值字段时，模块字段和引用数据库表对应字段类型要保持一致，否则可能出现找不到值或者赋值不成功的情况。
3、表之间关联条件设置时，存在多个条件时，条件间需要加and。
4、触发字段支持主表或明细表字段。
5、引用数据库表可以为主表、明细表或者外部数据源的表单，应用外部数据源的表单时，直接填写表名。
X3-8-数据关联授权
3.8.1、概述
通过数据关联授权功能，在模块中存在客户、多客户、文档、多文档、流程、多流程、归档流程、自定义单选、自定义多选、自定义树形单选、自定义树形多选浏览框字段时，可以设置字段进行关联授权，在查看模块数据时，即使没有浏览框引用的对应数据权限，也可以在建模卡片中查看相应的数据。
3.8.2、应用场景说明
例如，当用户有模块A（客户联系记录）的数据权限，但是没有模块B（客户信息）的权限，当模块A（客户联系记录）中存在浏览框引用模块B（客户信息）的数据时，当不开启关联授权时，用户点击浏览框的链接查看模块B（客户信息）的数据时，会提示无权限，通过数据关联授权，则可以设置相应的字段进行关联授权，用户在在模块A（客户联系记录）的卡片信息页面，则可以点击引用了模块B（客户信息）数据的浏览框，查看模块B（客户信息）的数据（如图X3-8-1）。

X3-8-1
3.8.3、功能说明
1、 通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，在对应模块的数据关联授权tab页，可以设置需要关联授权的字段（如图X3-8-2）。

X3-8-2
说明：
1） 列表中会显示出该模块对应表单主表和明细表中可以设置数据关联授权的字段（客户、多客户、文档、多文档、流程、多流程、归档流程、自定义单选、自定义多选、自定义树形单选、自定义树形多选）。
2） 是否授权：可以设置该字段是否需要授权。
3） 布局：针对自定义单选和自定义多选类型的浏览框，可以设置浏览框引用的模块数据显示的布局。
4） 布局级别：针对设置布局时，设置布局的级别，点击链接查看时，如果能找到多个布局，则按布局级别来加载对应布局，数字越小，优先级越高，显示布局级别值最小的布局。
2、 对应字段开启授权后，只要有对应模块数据的权限，在模块卡片页面中就可以点击链接查看相关信息（如图X3-8-3）。

X3-8-3
3、客户、多客户、文档、多文档、流程、多流程、归档流程、自定义树形单选、自定义树形多选字段也是一样。
3.8.4、实施注意
1、 支持关联授权的浏览框类型有：客户、多客户、文档、多文档、流程、多流程、归档流程、自定义单选、自定义多选、自定义树形单选、自定义树形多选。
2、 只有自定义单选、自定义多选浏览框字段可以设置布局。
3、 自定义树形单选、自定义树形多选，链接目标模块存在多个布局时，加载默认布局。
4、 数据关联授权只支持在卡片页面点击链接查看，在其他地方点击链接权限跟随对应的模块共享权限，如没有目标模块权限，则提示无权限。
5、 关闭对应字段关联授权时，不进行授权，没有权限时，点击会提示无权限。
6、 主表和明细表中的字段都可以设置关联授权。
7、 通过默认共享和前端非默认共享后，对应的用户都可以查看开启关联授权的字段对应的信息。
X3-9-数据审批
3.9.1、概述
通过数据审批可以设置针对模块数据做相关操作时，触发相关的审批工作流，并将相关的数据带到流程中进行审批。
3.9.2、应用场景说明
当新建或者修改模块数据时，需要触发相关的审批流程时，则可以通过数据审批的功能进行设置。
例如新建一条项目信息时，需要触发立项审批流程，则可以在新建项目保存时触发立项审批流程（如图X3-9-1）。

X3-9-1
3.9.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】对应模块的数据审批页面，可以设置模块要触发的流程及相关设置（如图X3-9-2）。

X3-9-2
说明：
1）名称：设置数据审批的名称以识别数据审批设置
2）模块名称：设置数据审批对应的模块名称，显示当前模块名称。
3）被触发流程类型：选择数据审批要触发的流程。
4）触发操作：设置触发的流程是提交状态还是保存状态
5）触发条件：设置需要触发审批流程的条件，符合条件时才会触发审批流程。
6）流程触发成功回写：设置流程触发成功时，回写模块对应数据。
7）流程触发失败回写：设置流程触发失败时，回写模块对应数据。
8）被触发流程创建人：设置被触发流程的创建人。
①模块当前操作人：设置模块当前操作人作为触发的流程的创建人。
②模块创建人：设置模块数据的创建人作为触发的流程的创建人。
③模块人力资源相关字段：设置模块表单中人力资源相关字段作为触发的流程的创建人。
7）字段映射：设置模块数据与流程表单中数据的对应关系，触发流程后会根据对应关系将模块数据导入到流程表单中。
2、在对应模块的页面扩展中，找到需要触发审批工作流的相关页面扩展操作，在接口动作的触发审批工作流中选择需要触发的数据审批（如图X3-9-3）。

X3-9-3
3、启用后，在新建模块数据保存时，则会触发审批工作流，并且将相关的数据导入到流程表单中（如图X3-9-4）。

X3-9-4
3.9.4、实施注意
1、设置数据审批时，需要在填写完名称、被触发流程类型、触发操作之后先保存，才会出现触发条件设置和字段映射设置。
2、设置数据审批后，需要在页面扩展中针对相关的页面扩展操作，在接口动作的触发审批工作流中选择配置好的数据审批，数据审批功能才会生效。
3、设置字段映射时，设置对应字段关联关系，需要确保流程模块表单字段和流程表单字段类型的一致性，否则有可能数据导入失败。
X3-10-流程转数据
3.10.1、概述
流程转数据是通过实现将流程中的数据转到表单建模的模块数据中，实现流程与表单建模数据的流转。
3.10.2、应用场景说明
当一个流程中的数据与模块中的数据有对应关系，可以通过在模块的流程转数据功能中设置流程审批完成后，将数据添加到模块中。
例如提交资产入库申请后，可以将入库表中相关的资产信息转到模块中，入库审批中的资产信息则会显示到模块中（如图X3-10-1）。

X3-10-1
3.10.3、功能说明
1、通过在【后端应用中心】-【建模引擎】-【应用建模】-【模块】找到需要设置流程转数据的模块，在流程转数据tab页，通过新建创建流程转数据设置，或者通过详细设置链接修改已有的流程转数据设置（如图X3-10-2）。

X3-10-2
说明：
1）列表中会显示设置的所有流程转数据设置列表及相关信息。
2）新建：可以创建新的流程转数据设置。
2、详细设置（如图X3-10-3）：

X3-10-3
说明：
1）是否启用：设置是否启用当前流程转数据设置。
2）接口名称：设置流程转数据的名称以区分流程转数据的设置
3）流程类型：选择要转模块数据的流程。
4）触发表单：选择要触发流程转模块数据的是主表表单还是明细表表单。
①选择主表：选择主表时，是将流程表单中主表中的数据转到模块主表，明细表转到明细表。
②选择明细表：可以选择流程表单中存在的明细表，如明细1、明细2等。选择指定明细表时，是将流程中主表+明细表表到数据转到模块表单的主表中。
5）触发条件：设置需要触发流程转数据的条件，符合条件时才会触发流程转数据。
6）模块名称：要触发流程转数据对应的模块，新建是会默认当前模块，修改模块后，对应的流程转数据会显示在对应模块的流程转数据设置列表中。
7）触发类型：选择要触发流程转数据的类型，是节点触发还是出口触发。
8）触发节点：选择要触发流程转数据的流程节点，保存后触发节点会加载流程中的节点到列表中。
9）触发时间：可以选择要触发流程转数据的时机是离开节点还是到达节点。
10）模块创建人：设置流程转数据后，模块对应的创建人。
流程当前操作人：设置流程的当前操作人作为触发的模块数据的创建人。
流程创建人：设置流程的创建人作为触发的模块数据的创建人。
流程人力资源相关字段：设置流程表单中相关的人力资源字段中的人员座位模块数据的创建人。
11）回写数据ID对应字段（插入流程权限）：
12）字段映射：设置模块表单字段与流程表单字段的映射关系。
①当触发表单是主表时，模块主表可以选择流程的主表字段进行映射；模块明细表字段可以选择流程的明细表字段进行映射，模块一个明细表只能与一个流程的明细表进行映射。
②当触发表单是明细表时，模块主表可以选择流程的主表字段和选择的明细表对应的字段进行映射，不能设置模块明细表字段的映射。
3、设置完成后，在前台新建流程后，在设置触发节点的触发时间会按照映射关系将流程数据转为模块数据显示在模块数据列表中（如图X3-10-4）。

X3-10-4
3.10.4、流程转数据的几种类型
3.10.4.1、插入
流程转数据-插入是将流程中的数据添加插入到建模中。
例如在完成一个门店申请审批后，可以将门店申请表中的相关信息转到模块中，那么门店申请流程中的门店信息就会显示到模块中（X3-10-5）。

X3-10-5
流程转数据配置（如图X3-10-6）

X3-10-6
说明：
1、模块关联的是主从表，设置了流程转数据，触发表单为主表，主表操作类型为插入时，明细表是也是默认插入的。
2、模块关联的是主从表，设置了流程转数据，触发表单为明细表，主表操作类型为插入时，表示流程中有几条明细数据，就会在模块中转入几条对应主表数据。
3.10.4.2、更新
流程转数据-更新是指满足相应的条件可以更新表单建模卡片中已有的数据，或者对明细表数据进行追加、覆盖、更新等操作。
例如实习生完成一个转正申请之后，可以更新建模中实习生的状态信息（如图X3-10-7）。

X3-10-7
流程转数据配置（如图X3-10-8）

X3-10-8
说明：
1、操作类型选择更新时，更新条件必填，格式为：modefield='$wffield$' 或者 modefield= '$wfdttable.wfdtfield$'（触发表单为明细表才支持），modefield为模块字段，wffield为流程字段，wfdttable和wfdtfield为流程明细表、流程明细字段。
2、模块关联的是主从表，设置了流程转数据，触发表单为主表，主表操作类型选择更新，明细表可选操作类型为：默认、追加、更新、更新（追加）、覆盖。
1）默认：表示只更新满足条件的主表数据，明细表数据不做任何操作。
2）追加：表示找到满足主表条件的数据，主表进行更新操作，此主表数据对应的明细表数据做相应的追加数据操作。
3）更新：（更新条件必填）表示先找满足条件的主表数据，对其主表数据进行更新，然后再在满足条件的主表数据再找到对应的明细表数据，对其在满足明细表条件的数据进行更新。不满足的明细表数据不做任何改动。
4）更新（追加）：（更新条件必填）表示先找满足条件的主表数据，对其主表数据进行更新，然后再在满足条件的主表数据找到对应的明细表数据，然后再对满足明细表条件的数据进行更新。不满足的明细表数据，则做追加操作。
5）覆盖：表示找到满足主表条件的数据 主表进行更新操作，此主表数据对应的明细表数据做先删除后插入的操作。
3、模块关联的是主从表，设置了流程转数据，触发表单为明细表，主表操作类型选择更新，表示更新所有满足已有的模块主表字段数据与此条流程中所有明细表字段值相同的数据。
4、选择更新操作时，没有设置对应的流程字段时，则表示此字段的值不做任何改动。
5、“更新”之后的模块数据会权限重构。
3.10.4.3、插入并更新
流程转数据-插入并更新是指第一次触发流程转数据时，将流程中的数据插入到建模中，当流程被退回修改后再次触发时就更新建模的数据。
例如在提交一条物资采购流程时，提交后生成建模的采购信息，由于已有物资没有清点好，流程退回，清点物资修改采购信息后再次提交，就会更新之前生成的采购信息（如图X3-10-9，X3-10-10）。

X3-10-9

X3-10-10
流程转数据配置（如图X3-10-11）

X3-10-11

说明：
1、模块关联的是主表，流程关联也是主表，模块设置流程转数据，触发表单为主表，主表操作类型选择插入并更新，需要判断流程的请求ID必须要有字段对应，如果没有选择的时候，数据不能保存。更新的时候，只判断满足条件的情况下，只能找出一条数据，如果找出大于一条的时候，流程不能提交下去。
2、模块关联主从表，流程关联主从表，模块设置流程转数据，触发表单为主表，主表操作类型选择插入并更新，需要验证主表中的请求ID和明细表的明细ID必须要有模块字段对应 如果没有选择这两个字段保存的时候，数据不能保存。更新的时候，只判断满足条件的情况下，只能找出一条数据，如果找出大于一条的时候，流程不能提交下去。
3、模块关联主表或主从表，流程关联主从表，模块设置流程转数据，触发表单为明细表，主表操作类型选择插入并更新，需要判断明细ID和请求ID同时有对应字段（这样设计是为了当多条流程对应同一个模块的流程转数据，明细表触发，会根据不同流程的请求ID和对应该流程明细ID同时作为条件来更新满足条件的数据）。
注：触发表单为明细表的插入并更新，更新的时候，如果同个流程有三条明细，但是其中一条明细ID数据库已经存在，整个流程可以提交下去，并且另外两条明细ID没有冲突的数据可以正常更新。只是这一条明细ID数据库已经存在的不作更新。
4、“插入并更新”之后的模块数据会权限重构。
3.10.4.4、批量插入
流程转数据-批量插入是指根据流程中多选或者数字类型字段，批量插入生成多条建模卡片。

比如资产入库流程，可以根据资产数量生成多条资产数据（如图X3-10-12）。

X3-10-12
流程转数据配置（如图X3-10-13）

X3-10-13
说明：
1、模块关联主表或主从表，配置流程转数据，触发表单为主表，主表操作类型选择批量插入，选择依据字段（可选整数、多人力资源，多部门，多分部，多岗位，多流程，多文档，树形多选，自定义多选）。触发后会根据依据字段的值的个数生成多条相同数据，除了依据字段会拆分外，其他字段值均相同，包括主表和明细表。
2、模块关联主表或主从表，流程关联主从表配置流程转数据，触发表单为明细表，主表操作类型选择批量插入，此时依据字段来源可选主表或明细表，若依据字段选择主表，则生成明细表条数*依据字段值的个数条相同数据，若依据字段选择明细表，则生成每条明细表的依据字段值之和条相同数据。
3、“批量插入”之后的模块数据也会权限重构。
3.10.5、流程转数据支持触发条件
该功能主要实现当流程数据满足触发条件才执行流程转数据。
保存流程转数据基础信息之后，才会出现触发条件按钮，点击触发条件，弹出条件设置页面（如图X3-10-14）。

X3-10-14
说明：
1、触发表单为主表，则页面上目标字段显示流程关联表单中的主表和明细表的字段；触发表单为明细1，则页面上目标字段,显示的为流程关联表单中的明细1表中的字段。
2、触发表单为主表，此时设置触发条件中有主从表字段，只要根据条件查询能查询到大于等于1条数据的时候，就触发流程转数据接口；触发表单为明细表。此时设置了触发条件为明细表字段，只要流程有几条明细满足，则会触发几条，即满足条件的明细才会触发，不满足条件的明细不触发。
3.10.6、实施注意
1、可以选择主表或者明细表为触发表单。
2、设置模块表单字段与明细表单字段的映射关系时，模块表单字段与流程表单字段的类型要一致，否则会触发不成功。
3、选择明细表为触发表单时，此时是将流程主表+明细表字段相关信息转为模块数据，会按照明细表数据的条数进行触发，流程表单字段可以选择主表和选择的明细表对应的字段设置映射关系。
4、选择主表为触发表单时，模块明细表映射关系可以选择流程明细表字段进行设置，但是一个明细表对应一个明细表，如果设置了一个明细表的字段对应多个明细表中的字段时，由于不同的明细表数据条数不一样，可能会引起有的明细表字段转数据不成功的情况。
5、流程转数据操作需要确保接口WorkflowToMode存在，否则在流程转数据操作时会提示“下一节点操作错误”。
X3-11-页面扩展
3.11.1、概述
通过页面扩展功能可以自定义添加或者修改右键按钮或者tab页等页面扩展操作信息，丰富前台页面功能。
3.11.2、应用场景说明
通过添加页面扩展，可以通过在当前页面的一些自定义的右键按钮或者tab页等页面扩展对相关联的模块进行操作。
例如想要在查看客户信息的时候查看该客户的联系记录或者新建该客户的练习记录，则可以在客户信息模块设置相关页面扩展（如图X3-11-1）
。

X3-11-1
3.11.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】在对应的模块的页面扩展页面，可以添加或者修改页面扩展操作信息（如图X3-11-2）。

X3-11-2
说明：
1）列表中会显示所有默认和自定义的页面扩展项。
2）右键-新建：可以创建新的页面扩展项。
3）通过点击扩展名称链接可以进入页面扩展项的详细设置页面。
2、在页面扩展信息页面设置相关的内容（如图X3-11-3）。

X3-11-3
说明：
1）是否显示：设置页面扩展项是否要显示，开启开关为显示，关闭开关为隐藏。
2）名称：显示页面扩展的名称，可以修改。
3）扩展类型：显示页面扩展的类型，默认或者用户自定义。
4）扩展用途：可以选择卡片页面、查询列表（批量操作）、卡片页面和查询列表。
卡片页面：可以设置页面扩展显示在卡片信息页面，可以选择在新建页面、编辑页面、查看页面显示页面扩展。
查询列表（批量操作）：设置在查询列表时，则会在引用该模块的查询列表的批量操作中显示页面扩展项，在批量操作中勾选后会在前台列表中显示对应的页面扩展项。
卡片页面和查询列表：可以设置页面扩展项既显示在对应的卡片页面又显示在查询列表（批量操作）中。
5）显示样式：可以设置页面扩展是tab页还是右键。
Tab页-顶部：针对卡片的新建、编辑、查看页面可以设置tab页-顶部的形式展示。
Tab页-内嵌：针对卡片的新建、编辑、查看页面可以设置tab页-内嵌的形式展示。
分组：页面扩展显示样式为Tab页-顶部时，可以设置分组显示，将同类型的页面扩展放到一个分组下，以下拉框的形式展示。
鼠标右键：可以设置对应的扩展项在卡片页面或者查询列表中以右键的形式展示。
快捷按钮：设置页面扩展配置在卡片右键展示时，同时可以展示在卡片页面上，而不仅仅是右键。
6）打开方式：当显示样式为鼠标右键时，可以选择设置打开方式。
默认窗口：在默认窗口中打开。
弹出窗口：在弹出窗口中打开。
其他：可以通过在链接目标地址中编写代码设置右键打开方式。
7）链接目标：可以设置页面扩展要链接的目标，通过链接目标来源、选择链接目标、链接目标地址、关联字段来设置，前台通过对应的页面扩展项会跳转到指定的页面。
链接目标来源：设置链接目标的来源是模块、模块查询列表、回复评论、批量更改字段值或者手动输入。
选择链接目标：当链接目标来源是模块、模块查询列表、批量更改字段值时，可以通过选择链接目标进行选择要链接的模块、模块查询列表或者批量修改，其中模块和模块查询列表会带出链接目标地址。
链接目标地址：显示链接目标地址，当链接目标来源是模块、模块查询列表时，会根据选择的项关联出链接目标地址；链接目标来源是回复评论时，会自动带出链接目标地址；链接目标为批量更改字段值时，该行隐藏；链接目标来源是手动输入时，则手动填写要链接目标地址。
8）关联字段：链接到模块或者模块查询列表时，可以通过关联字段设置显示对应的信息。
9）描述：设置页面扩展项的描述信息。
10）显示顺序：设置页面扩展项在前台的显示顺序。
11）权限：设置页面扩展的对应的权限以及权限条件，只有满足权限的人员才可以看到此页面扩展。
权限可以设置人员、部门、分部、角色、所有人以及继承建模编辑权限。
继承建模编辑权限：继承建模权限设置中的编辑权限，有模块编辑权限的人，也可以有此页面扩展权限。
添加条件：设置页面扩展按照设置的条件进行显示，只有满足权限的人员且符合条件的页面才会显示对应的页面扩展。
12）接口动作：设置页面扩展项对应的接口动作。
触发审批工作流：可以选择已经配置好的数据审批，或者直接新建数据审批并选择，选择后操作页面扩展项时会触发数据审批中设置的工作流。
外部接口动作：可以设置要触发的action。
自定义java接口：可以设置页面扩展操作时按照java接口中进行触发。
其他接口动作：主要是DML接口动作，可以通过设置DML对应关系设置页面扩展按照DML设置的进行触发，可以按照DML设置增、删、改表单数据。
是否重构数据权限： 当DML类型为update或者insert时，执行DML语句后，更新建模数据权限。
3、设置页面扩展后（如图X3-11-4）。

X3-11-4
3.11.4、实施注意
1、当设置了编辑卡片页面的tab扩展时，如果卡片页面信息有修改，则tab页显示的内容要页面刷新后才会根据新的值进行关联对应显示。
2、卡片页面，Tab页面，勾选了新建页面，那么在新建页面数据只要有权限都会显示，不会根据后面设置的权限条件过滤。因为新建卡片上数据还没保存，无法获取。
3、针对查询列表的扩展项，只是会显示在模块对应的查询列表的批量操作列表中增加选项，需要勾选后才会显示。
4、只有卡片页面，Tab页面-顶部才支持分组显示，模块页面扩展还没有分组时，直接输入一个分组名称即新建了一个分组，已经有分组时，可以直接输入新的分组或者选择已有的分组。
5、只有当扩展类型为“系统默认”，扩展用途为“卡片页面”；或者扩展类型为“用户自定义”，扩展用途为“卡片页面”“卡片页面或者查询列表”，显示样式为“鼠标右键”，才会触发快捷按钮设置。
6、当页面扩展链接目标是模块时，通过卡片的右键按钮会链接到新建模块卡片页面，并且会根据关联字段设置的对应关系将当前卡片的值带到链接目标页面；当扩展项是tab页时，则会根据关联字段对应关系进行查找符合条件有权限的第一条数据，如果不存在符合条件的信息，则会显示新建页面，并且根据关联字段将值带到链接目标页面。
7、DML是否重构数据权限，当自定义主表DML语句为存储过程时，不进行权限重构。类型是update时，重构范围为sql语句中的数据库表中的符合where条件的数据，类型是insert时，重构范围为语句中符合刚插入的值的最大数据id的一条记录。
X3-12-批量导入
3.12.1、概述
批量导入是指可以通过管理员从后端的批量导入或者前端的批量导入菜单导入模块数据，实现一次性添加或者更新多条数据。
3.12.2、应用场景说明
例如一个客户信息模块，其实在其他系统已经存在一些老客户，需要导入到系统中，但是一条条新建数据太麻烦，则可以将现有数据填写到下载的模板中，然后通过批量导入一次性导入到系统中，免去了一条条新建数据的麻烦（如图X3-12-1，X3-12-2）。

X3-12-1

X3-12-2
3.12.3、功能说明
批量导入可以由系统管理员和普通用户进行操作。
1、系统管理员可以通过在系统【后端应用中心】-【建模引擎】-【应用建模】-【模块】下的批量导入tab页中进行操作（如图X3-12-3）。

X3-12-3
 2、普通用户可以通过在前台对应的查询列表中右键菜单或者菜单项中的批量导入进行操作（如图X3-12-4）。

X3-12-4
说明：
1）下载模板：通过下载模板可以下载该模块对应的模板。
设置模板：当一个表单同时被多个模块引用时，可以为单个模块设置导入模板，字段默认为在表单中勾选了导入的字段，修改默认模板之后，“设置模板”按钮会变成“编辑模板”按钮。
2）上传Excel：通过上传Excel可以将填写了要导入数据的模板Excel文档上传。
3）重复验证字段：通过设置重复验证字段，数据追加或者覆盖时可以判断是否有重复数据，更新时会根据重复验证字段更新对应数据。除了附件、特殊字段外的主字段都可以设置为重复验证字段。
【重复验证字段】的值重复了是否继续：不开启，导入的过程有重复的数据，导入中断，中断之前的数据都导入成功，后面的数据不导入；开启，导入的过程有重复的数据，跳过该条数据继续导入。
4）导入类型：可以设置导入类型为追加、更新、覆盖，追加是将模板中的数据新增到该模块中，更新是根据重复验证字段更新对应的数据，覆盖会把模块中所有的数据全部删除，然后再导入模板中的数据。
不符合更新条件的数据自动追加：不开启，根据重复验证字段，更新数据，如果查询不到更新的数据，该条数据之间更新失败；开启，根据重复验证字段更新数据，如果查找不到要更新的数据后直接插入该条数据。
5）Excel数据导入顺序：选择极速导入或者顺序导入数据，默认为顺序导入。
极速导入：速度快于顺序导入，但导入后数据的先后顺序不是按照Excel中数据的先后顺序排列。
顺序导入：速度慢于极速导入，但导入后数据的先后顺序是按照Excel中数据的先后顺序排列。
6）导入必填字段：批量导入时验证excel中的必填字段，当设置选择框为空时表示导入时需要验证设置的字段是否必填，当选择框不为空时则表示满足选择框条件之后才去验证设置的字段是否必填。
7）接口路径：此处填写接口代码路径 excel导入数据的时候会执行接口中的代码。
8）打印导入日志：是否在日志中打印批量导入的操作日志，包括更新时，记录主表字段的日志，开启表示在日志中打印，不开启表示不打印，默认不开启。
4）导入：操作开始导入后会将模板中的数据导入到对应模块。
3.12.4、实施注意
1、上传模板时需要注意：
1）模板中第一行为表单字段名称，从第二行开始填写需要导入的数据。
2）数据之间不能有空行。(存在空行时仅会导入空行以上的数据，空行以下的数据不会导入)
3）主字段为一个SHEET页，如果有明细时模板中会有多个SHEET，一个明细一个SHEET。
4）每条主数据都有一个ID字段，同时每条明细数据里面都有MAINID字段，这两个字段的作用为明细数据和主数据的关联关系，ID的值必须为数字或者字母。
5）数字类型字段不要有特殊格式，例如：科学计数法，千分位，货币符号等。
6）浏览类型字段直接输入名称或主键，例如：人力资源字段直接输入人员名称或主键。
7）check类型字段输入"1/0"或"是/否"。
8）下拉选择框类型字段输入下拉选择框显示名称。(百分比格式的需要改为文本格式)
9）日期类型字段导入时模板中需改为日期格式。
10）人力资源字段支持编号导入，excel模板中的格式为：workcode_具体编号。
11）部门字段支持编号导入，excel模板中的格式为：deptcode_具体编号。
12）模板中支持创建人，创建日期导入。在模板中创建人支持直接输入名称或者主键ID。
13）批量导入支持以数据ID作为重复验证字段去更新已有数据，已有数据的ID可以从查询列表导出。
14）导入类型为“追加”，就是把模版中的数据新增到该模块中；导入类型为“覆盖”会把该模块中所有的数据全部删除，然后再导入模版中的数据，请慎用！
15）导入虚拟部门、分部，数据需以virtual_开头，例如：virtual_泛微
16）接口路径为验证导入数据的接口路径。例如weaver.formmode.setup.**。接口返回值为错误信息(字符串)，如果为&quot;&quot;，则表示没有错误。
17）导入必填字段，当设置选择框为空时表示导入时需要验证设置的字段是否必填，当选择框不为空时则表示满足选择框条件之后才去验证设置的字段是否必填。
18）浏览类型字段根据名称导入，如果名称为整数，则需要加上前缀name_，例如：name_名称。

2、导入数据后，导入的数据会显示到前台列表中，创建人为操作导入的人员，注意共享权限，如果看不到数据有可能是没有共享权限。
3、批量导入的正常使用，需要确保后台有对应的查询类别有配置批量操作中批量导入显示。
 
X3-13-编码
3.13.1、概述
通过模块的编码功能可以设置表单中指定的单文本字段在新建卡片保存数据后自动按照规则进行编码，实现指定字段按规则生成。
3.13.2、应用场景说明
当表单中存在如编号、编码等字段有一定规律时，可以通过编码功能设置编码生成规则，然后在保存卡片信息后会自动生成编码。如资产编码不需要输入，可以通过编码规则生成（如图X3-13-1）。
 
X3-13-1
3.13.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【模块】找到对应的模块进入编码tab页。（如图X3-13-2）

X3-13-2
说明：
1）是否启用：是否启用编码规则的开关，开启启用，关闭不启用。
2）编号字段：设置编码的字段，会列出表单中的单文本-文本类型字段
3）起始编号：设置编码的流水号的起始编号，设置正整数。
4）编码规则：设置编码字段的编码规则，可以设置编码前缀、勾选模块名称、年、月、日、设置流水号位数，以及添加表单字段和字符串作为编码规则。
编码前缀：设置编码规则的前缀。
模块名称：设置编码中是否包含模块名称，开启包含，关闭不包含。
年、月、日：可以设置生成编码时是否获取当前日期的年、月、日，开启获取，关闭不获取。
添加表单字段：支持获取的字段类型有：单文本、选择框、浏览按钮（自定义单选、自定义多选、自定义树形单选、自定义树形多选、人力资源、多人力资源、部门、多部门、分部、多分部、日期、时间、流程、多流程、归档流程、文档、多文档、项目、多项目、客户、多客户），
单独流水：针对编码字段、日期字段，可以设置是否开启单独流水。开启单独流水时，会判断开启单独流水对应字段内容是否有相同的，存在时，则流水号是继续编号，如果不存在相同的值时，则流水号会重新从起始编号开始编号；不开启单独流水时，生成编码时不会判断对应单独流水字段内容是否重复，流水号都是继续编号。
支持单独流水的字段：选择框、自定义单选、自定义树形多选、人力资源（人员编号）、部门（部门编号）、分部（分部编号）、日期。
流水号位数：设置流水号的位数。例如设置4位时，流水号编号格式为0001。
5）预览：可以查看设置的编码规则自动生成编码后的效果，其中流水号位数是显示流水号的位数。

2、设置编码规则后前台创建模块卡片数据后，设置编码的字段无论是否有填写内容都会按照设置的编码规则生成编码（如图X3-13-3）

X3-13-3
3.13.4、实施注意
1、设置编码的字段类型只有单文本-文本类型的字段，且只能设置一个编码字段。
2、起始编号只能设置正整数，且如果系统中已经生成过编码后，起始编码只能修改为大于已经生成的流水号，否则不生效。
3、设置编码规则后前台创建模块卡片数据后，设置编码的字段无论是否有填写内容都会按照设置的编码规则生成编码。
4、修改编码规则后，会根据新的编码规则重新生成编码，流水号会根据最新设置的生成。
5、可以设置多个单独流水的字段，设置多个时，会根据多个字段的内容进行判断是否存在重复。
6、当设置编码字段时，如果选择的数据不同，但是编码字段对应字段的值相同，生成流水号时会判断为相同的内容，会继续编号，避免系统中编码重复。
7、如果编码字段对应的值为空与编码字段不选择内容效果一样，设置单独流水时会继续编号，避免出现重复编码。
8、编码字段不支持引用虚拟表单的自定义单选浏览框。
9、人力资源、部门、分部字段的编号支持单独流水，显示值不支持单独流水；日期字段支持以不同格式获取日期信息并单独流水；自定义单选、自定义树形单选支持获取浏览框（树形）引用表单中的单行文本类型字段的值。
X3-14-二维码
3.13.1、概述
通过二维码生成功能，可以实现对模块数据生成二维码或者批量生成二维码，也可以在布局中通过调用#QRCodeImg#函数生成二维码，通过扫描生成的二维码可以实现解析对应的查看、编辑布局或者是自定义的链接地址。
3.13.2、功能说明
1、通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，需要设置二维码的对应模块的页面扩展tab页，开启生成二维码和批量生成二维码对应页面扩展的是否显示开关（如图X3-14-1）

X3-14-1
2、针对批量生成二维码，还需要进入【后端应用中心】-【建模引擎】-【应用建模】-【查询】，在对应查询的批量操作中启用（如图X3-14-2）

X3-14-2
3、在【模块】的【二维码】tab页，设置二维码的配置（如图X3-14-3）

X3-14-3
说明：
1）是否启用：启用二维码功能，不启用时，前端操作生成二维码和批量生成二维码会提示“二维码功能尚未开启，请在后台开启二维码功能”。
2）目标类型：可以设置查看、编辑、其他。
查看：生成的二维码扫描时，会解析到对应数据的查看布局。
编辑：生成的二维码扫描时，会解析到对应数据的编辑布局。
其他：生成的二维码扫描时，会解析到设置的链接地址
3）链接地址：当选择目标类型为其他时，设置扫描二维码要解析的地址，支持解析动态参数。
可输入动态参数为：
“$UserId$”表示当前操作者
“$DepartmentId$”表示当前操作者部门
“$AllDepartmentId$”表示当前操作者部门（包含下级部门）
“$SubcompanyId$”表示当前操作者分部
“$AllSubcompanyId$”表示当前操作者分部（包含下级分部）
“$date$”表示当前日期
“$当前字段名称$”表示当前字段
“$modeid$”、“$formid$”、“$billid$”表示当前模块id、表单id、单据id
“$WorkCode$” 表示当前操作者工号
4）宽、高：设置二维码图片的大小。
5）基本信息：设置二维码的其他内容，可以解析动态参数（支持的动态参数同3）链接地址）
6）水平间距：设置2个二维码之间的水平间距。
7）垂直间距：设置2个二维码之间的垂直间距。
8）行数：设置每页纸打印二维码的行数，超过则另起一页打印。
9）列数：设置每页纸打印二维码的列数，超过则另起一行打印。
4、支持在布局中通过#QRCodeImg#函数解析二维码（如图X3-14-4）

X3-14-4
5、前端布局中可以解析出二维码或者通过生成二维码对对应的数据生成二维码（如图X3-14-5）

X3-14-5
6、也可以通过批量生成二维码对多条数据生成对应的二维码（如图X3-14-6）

X3-14-6
3.13.3、实施注意
1、解析当前字段支持的字段类型：单文本、选择框、check框、浏览框、多文本（非html）、附件上传（显示对应的文档名）。
2、基本信息中，选择框、浏览框类型字段，解析出的内容会是浏览框、选择框对应的显示名称，其他类型字段显示数据库中的内容。
3、通过系统参数$UserId$、$DepartmentId$、$AllDepartmentId$、$SubcompanyId$、$AllSubcompanyId$解析出的内容不会显示超链接，其他类型的浏览框会显示对应的超链接。
4、二维码打印时，每页的内容会按页居中显示，如果另起一页二维码个数不足设置的列数时，会在当页居中显示；如果是同一页最后一行不足设置的列数时，则会从左至右排列。
5、打印时，当设置的二维码在显示不下时，打印机会根据打印纸张大小自动换行打印，如果一页打不下，会自动打印到下一页，需自行调整行数、列数。

X3-15-条形码
3.15.1、概述
通过条形码生成功能，可以实现对模块数据生成条形码或者批量生成条形码，也可以在布局中通过调用# BARCodeImg#函数生成条形码。
3.15.2、功能说明
1、通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，需要设置条形码的对应模块的页面扩展tab页，开启生成条形码和批量生成条形码对应页面扩展的是否显示开关（如图X3-15-1）

X3-15-1
2、针对批量生成条形码，还需要进入【后端应用中心】-【建模引擎】-【应用建模】-【查询】，在对应查询的批量操作中启用（如图X3-15-2）

X3-15-2
3、在【模块】的【条形码】tab页，设置条形码的配置（如图X3-15-3）

X3-15-3
说明：
1）是否启用：启用条形码功能，不启用时，前端操作生成条形码和批量生成条形码会提示“条形码功能尚未开启，请在后台开启条形码功能”。
2）大小/尺寸：设置条形码的大小，范围为0-1。
3）条形码：设置条形码的条形号，支持解析动态参数（不支持中文值）。
可输入动态参数为：
“$UserId$”表示当前操作者
“$DepartmentId$”表示当前操作者部门
“$AllDepartmentId$”表示当前操作者部门（包含下级部门）
“$SubcompanyId$”表示当前操作者分部
“$AllSubcompanyId$”表示当前操作者分部（包含下级分部）
“$date$”表示当前日期
“$当前字段名称$”表示当前字段
“$modeid$”、“$formid$”、“$billid$”表示当前模块id、表单id、单据id
“$WorkCode$” 表示当前操作者工号
4）基本信息：设置条形码的其他内容，可以解析动态参数（支持的动态参数同3）条形码）
5）水平间距：设置2个条形码之间的水平间距。
6）垂直间距：设置2个条形码之间的垂直间距。
7）行数：设置每页纸打印条形码的行数，超过则另起一页打印。
8）列数：设置每页纸打印条形码的列数，超过则另起一行打印。
4、支持在布局中通过#BARCodeImg#函数解析条形码（如图X3-15-4）

X3-15-4
5、前端布局中可以解析出条形码或者通过生成条形码对对应的数据生成条形码（如图X3-15-5）

X3-15-5
6、也可以通过批量生成条形码对多条数据生成对应的条形码（如图X3-15-6）

X3-15-6

3.15.3、实施注意
1、解析当前字段支持的字段类型：单文本、选择框、check框、浏览框、多文本（非html）、附件上传（显示对应的文档名）。
2、基本信息中，选择框、浏览框类型字段，解析出的内容会是浏览框、选择框对应的显示名称，其他类型字段显示数据库中的内容。
3、通过系统参数$UserId$、$DepartmentId$、$AllDepartmentId$、$SubcompanyId$、$AllSubcompanyId$解析出的内容不会显示超链接，其他类型的浏览框会显示对应的超链接。
4、条形码打印时，每页的内容会按页居中显示，如果另起一页条形码个数不足设置的列数时，会在当页居中显示；如果是同一页最后一行不足设置的列数时，则会从左至右排列。
5、打印时，当设置的条形码在显示不下时，打印机会根据打印纸张大小自动换行打印，如果一页打不下，会自动打印到下一页，需自行调整行数、列数。
X3-16-日志
3.16.1、概述
日志是记录后端模块的操作日志。
3.16.2、功能说明
通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】点击一个具体的“模块”下的“日志”tab页（如图X3-16-1）

X3-16-1
 说明：
1、此页面上记录模块基础数据的新建和编辑的操作日志。
2、在此页面上可以根据操作人，操作类型，操作时间进行数据搜索。
3、此页面是记录模块后端的操作日志不是前端数据的变更日志。
 

表单
概述
表单是表单建模中的基础数据。表单建模中的模块需要关联创建的表单方可进行后续工作。
X4-2-表单
通过进入【后端应用中心】-【建模引擎】-【应用建模】-【模块】，点击一个具体的“模块”然后再点击“表单”（如图X4-2-1）.

X4-2-1
在（图X4-2-1）页面上我们可以点击右键“新建表单”按钮创建我们的表单数据（如图X4-2-2）

X4-2-2
表单引擎中的表单的创建是调用流程中的表单管理来创建表单的所以实际表单的操作步骤
可以查看知识树中的【流程引擎】-【表单管理】-【表单管理】的页面说明（点击此处）这里就不做详细介绍。
当我们在表单建模中创建完表单之后我们的表单如何与模块关联起来，具体如何关联（如图X4-2-3）

X4-2-3
在（图X4-2-3）页面上我们在模块页面上可以选择到我们在（图X4-2-2）页面上创建的自定义表单，这样就实现了我们的表单和模块关联起来。同时在（图X4-2-3）页面上我们也可以选择在【流程引擎】-【表单管理】中创建的表单。
在我们创建的表单中扩展了如下功能
1、记录日志
2、重复验证
3、Excel导出
4、扩展属性
以上创建的表单我们可以称作为实际表单。接下来介绍我们表单建模中的另外一种类型的表单叫做为虚拟表单。此表单可以理解为打通外部数据源中的桥梁。我们可以通过此类型表单的直接对外部数据源中的表中的数据进行操作。并且加以权限控制。
详情可见：《X4-7-虚拟表单》。
X4-3-记录日志
4.3.1、概述
表单记录日志，可以实现记录对应表单中字段修改记录，用户在前台查看日志时可以查看对应字段的日志记录，以及字段修改前和修改后的值，以及某个字段的全部日志记录。
4.3.2、应用场景说明
此功能用于记录某些字段的变更日志，用户可以在前台点击下日志按钮，就出来此页面的操作日志及某些字段的修改前和修改的值是什么。
4.3.3、功能说明
1、表单记录日志设置：在表单建模，可以设置指定字段是否要记录日志，通过设置记录日志，勾选为启用，不勾选为不启用（如图X4-3-1）。

X4-3-1
勾选：勾选对应字段的记录日志复选框，则会启用记录日志功能。
不勾选：不勾选对应字段的记录日志复选框，则会取消记录日志功能。
2、表单记录日志功能应用：日志按钮是否显示是在【页面扩展】中控制的，默认是右键显示的（如图X4-3-2）

X4-3-2
1）不启用记录日志功能时查看日志：不启用记录日志功能时，在前台查看日志时，只能查看简单的日志信息，不能查看日志记录，对应日志信息不显示日志记录链接（如图X4-3-3）

X4-3-3
2）启用记录日志功能时查看日志：启用记录日志功能时，可以查看日志的概要信息，还可以查看字段日志，以及查看该字段所有日志。
查看日志概要信息：右键进入【日志】菜单，可以查看到日志的概要信息（如图X4-3-4） ，默认勾选新建、编辑、批量修改三种操作类型的日志信息，可以通过设置搜索条件进行搜索日志。

X4-3-4
点击上图>图标的位置，出现的页面就可以看到字段的变更日志（如图X4-3-5）

X4-3-5
4.3.4、实施注意
1、当字段类型是附件类型时，如果附件存在则会记录附件名称，如果附件被删除了，日志记录中则会提示附件已经被删除，并且记录附件ID
2、日志默认显示新建、编辑和批量修改的日志信息，手动勾选查看类型的进行搜索才能查看到查看类型的日志信息。
3、日志记录只会显示设置日志记录后的详细操作日志信息；取消日志记录后，历史的日志记录也会保留，只是设置后的日志不会记录。
4、字段开启记录日志功能，使用流程转数据进行新增或更新也会记录对应的日志。
X4-4-重复验证
4.4.1、概述
重复验证功能是设置表单中指定字段或指定组合字段在前台输入重复数据的校验，当前台输入重复数据时，会提醒用户不符合数据唯一性校验。
4.4.2、应用场景说明
有需求是我需要在某个卡片上验证某个字段的唯一性，比如很常见的我们的身份证，手机号都是唯一不允许有重复的，那么在前端这2个字段输入值的时候，我们就可以利用重复验证功能来验证这2个字段的唯一性。
4.4.3、功能说明
1、在【后端应用中心】-【建模引擎】-【应用建模】-【表单】，选择某张特定的表单，在表单重复验证tab页可以设置字段的重复验证，支持设置主表、明细表的单行文本、浏览框类型字段以及选择框字段，同时还支持多字段组合一起验证唯一性（如图X4-4-1）。

X4-4-1
说明：
1）验证字段：选择需要设置重复验证的字段，可以设置一个或多个，支持类型有“单行文本类型、浏览框类型、选择框类型”。
2）冲突处理：当数据库存在数据的情况下，处理方式有两种，为“禁止提交”和“仅提醒不做处理”。
禁止提交：禁止用户提交保存数据（如图X4-4-2）。

X4-4-2
仅提醒不做处理：重复时做提醒但是还是可以继续操作保存（如图X4-4-3）。

X4-4-3
3）颜色：设置了重复验证的字段判断重复时，单元格显示的背景颜色。
4）如果验证字段选择的是多个字段，则表示这几个字段在一起组合验证，只有当所有字段全部重复时才判断为重复（如图X4-4-4）

X4-4-4
5）查询列表批量修改支持组合重复验证，效果（如图X4-4-5）

6）流程转数据支持组合重复验证，效果（如图X4-4-6）

X4-4-6
4.4.4、实施注意
1、重复验证功能是以表单为维度进行校验的，多个模块引用相同的表单，只要表单中存在重复的数据，在开启重复验证功能时则会进行校验。
2、如果重复验证字段设置一个，则表示单个字段验证提醒，如果重复字段设置了多个则表示这几个字段组合验证提醒
3、重复验证提醒功能在卡片页面上支持，流程转数据支持，查询列表批量修改支持。
X4-5-导入
4.4.1、概述
导入是控制批量导入的默认模板中显示哪些字段。
4.4.2、功能说明
1、在【后端应用中心】-【建模引擎】-【应用建模】-【表单】，选择某张特定的表单，在表单“字段”tab页有个导入（如图X4-5-1）

X4-5-1
（图X4-5-1）中的红色标识的勾选表示此列会批量导入的excel模板上，不勾选表示不显示（如图X4-5-2）。

X4-5-2
说明：
1、默认是除了数据ID、创建人、创建日期之外，所有字段都勾选的。
2、此处勾选的字段是设置引用了该表单的模块批量导入的excel默认模板的，单个模块的模板可以在【后端应用中心】-【建模引擎】-【应用建模】-【模块】的批量导入tab页进行设置。
X4-6-扩展属性
4.6.1、概述
自定义单选、自定义多选可以通过根据表单上的某个字段值直接过滤浏览框的数据，或者作为浏览框的查询条件默认搜索出符合条件的数据。
自定义树形单选、自定义树形多选可以通过根据表单上的某个字段值作为树形根节点的主键值，从而实现树形浏览框中的根节点数据过滤功能。
4.6.2、sqlwhere、sqlcondition
4.6.2.1、概述
1、sqlwhere：用于实现自定义浏览框类型的字段可以根据表单上的某些字段值进行数据过滤。
2、sqlcondition：用于实现自定义浏览框类型的字段可以根据表单上的某些字段值作为查询条件搜索出相应的数据。
4.6.2.2、功能说明
1、在【后端应用中心】-【建模引擎】-【应用建模】-【表单】，点击某个具体的表单，然后点击“字段”tab页在“扩展属性”列可以设置sqlwhere和sqlcondition（如图X4-6-1）

X4-6-1
此列只有当字段类型为自定义单选、自定义多选、自定义树形单选、自定义树形多选时才可以编辑，并且编辑的时候是个多行文本域。
2、sqlwhere用于自定义单选和自定义多选浏览框字段， 此功能是用于实现卡片上的自定义浏览框字段根据卡片上的其他字段值进行过滤数据（如图X4-6-2）。

X4-6-2
1）格式为：sqlwhere=objzdy=$obj1$ and objzdy1=$obj2$(其中objzdy和objzdy1为自定义浏览框关联表中的列，obj1,obj2为卡片上的字段，当obj1和obj2为明细表字段时，需要加上“明细表名. ”)
2）针对不同的字段类型，objzdy可以等于或者大于、小于$obj1$，当$obj1$为文本时，需要加上单引号。
3）当浏览按钮为明细表浏览框时，sqlwhere可以使用t1和d1分别代表主表和明细表：t1.objzdy=$obj1$(t1为自定义浏览框主表的别名，obj1为卡片上的字段)、d1.objzdy=$obj1$(d1为自定义浏览框明细表的别名，obj1为卡片上的字段)
前端效果（如图X4-6-3）

X4-6-3
3、sqlcondition用于自定义单选和自定义多选浏览框字段，此功能是用于实现卡片上某些字段的值作为自定义浏览框的查询条件默认搜索出相应的数据（如图X4-6-4）。
X4-6-4
1）格式为：sqlcondition=objzdy=$obj1$,objzdy1=$obj2$(其中objzdy，objzdy1为自定义浏览框关联表中的列，obj1,obj2为此卡片上的字段，当obj1和obj2为明细表字段时，需要加上“明细表名. ”)。
2）如果浏览框表中列是数值类型字段，支持sqlcondition=objzdy=$obj1$-$obj2$，当objzdy和$obj1$为文本时，需要加上单引号'$obj1$'。
3）当浏览按钮为明细表浏览框时，sqlcondition可以使用t1和d1分别代表主表和明细表：t1.objzdy=$obj1$(t1为自定义浏览框主表的别名，obj1为卡片上的字段)、d1.objzdy=$obj1$(d1为自定义浏览框明细表的别名，obj1为卡片上的字段)
前端效果（如图X4-6-5）

X4-6-5
4.6.2.3、实施注意
1、sqlwhere参数条件中支持like、or、between and操作符。
2、虚拟表单配置的自定义单选和多选也支持此功能。
X4-7-虚拟表单
4.7.1、概述
虚拟表单是指引用本地数据库中的系统表或者视图，再或者是引用外部数据源中的表和视图创建的表单。此功能的作用是我们可以将我们外部数据源的表单创建虚拟表单之后 挂在模块上可以利用建模引擎功能 对外部数据源的数据进行增删改查。 我们提供了代码接口可以实现对虚拟表单中的数据控制权限。
4.7.2、应用场景说明
pm系统是一套管理项目的系统，目前需求是需要将此系统中的项目卡片的数据在oa系统中展现 并且需要实现在oa系统有权限的人员可以增加，编辑或者删除项目卡片的数据。
利用我们系统中的表单建模功能实现上述需求的效果。
4.7.3、功能说明
利用我们的虚拟表单功能要实现以上需求的配置步骤如下：
1、在系统【后端应用中心】-【建模引擎】-【应用建模】，点击某个应用然后点击表单tab页（如图X4-7-1、X4-7-2）

X4-7-1

X4-7-2
 说明：
表（视图）名：是根据数据源带出的表，通过后面的输入框搜索出需要的表名。
主键字段：选择该表中那列作为主键字段。后面必须选择主键生成策略
1）32位ID(UUID)：表示插入到此表中的主键字段的值是随机生成的32位id。
2）主键自动增长：表示插入到此表中的主键字段的值是自动增加的值。
3）自定义主键策略：提供了代码接口用户可以根据实际需求编写规则。
字段列表：默认是显示此表单（视图）中所有的字段 用户可以根据实际需求勾选需要显示的字段
2、建立完表单之后，点击字段设置虚拟表单的字段类型（如图X4-7-3）

X4-7-3
3、虚拟表单建立完之后 可以用此表单挂模块显示的效果（如图X4-7-4）

X4-7-4
4、用虚拟表单可以挂查询，后台配置（如图X4-7-5）
 
X4-7-5
4.7.4、实施注意
1、虚拟表单可以配置浏览框，实现表与外部数据源的数据交互。
2、虚拟表单关联的浏览框主键字段取的值为虚拟表单的主键字段的值。主键字段选择的是id那么就是id的值，主键字段选择是其他，那么主字段的值就是取其他字段的值。
3、模块关联虚拟表单，默认所有的数据没有编辑和删除权限，如果需要则通过模块中的权限规则中定义。
如果比较复杂的权限规则，我们也提供了java接口。若模块关联的是虚拟表单视图，则不支持数据操作和权限配置。
 4、关联虚拟表单的模块不支持字段联动、数据关联授权、数据审批、流程转数据、批量导入。
查询
概述
自定义查询可以理解为展示建模数据的列表。
X5-2-查询
5.2.1、概述
自定义查询可以理解为展示建模数据的列表，比如合同信息模块，合同信息的数据录入了，有多少合同信息。可以通过我们的自定义查询功能将数据库中的合同信息根据不同用户的权限展示相应的数据。也可以展示主从表单的数据。
5.2.2、前端应用效果
我们利用表单建模搭建了一个合同信息模块，合同信息数据就是利用我们的自定义查询功能配置的，具体效果（如图X5-2-1）

X5-2-1
5.2.3、功能配置说明
在系统【后端应用中心】→【建模引擎】→【应用建模】--->点击某个应用然后 点击查询菜单页，页面（如图X5-2-2）

X5-2-2
上图中自定义查询页面的基础信息设置完成之后，然后点击上图中的"字段定义"tab页，出来的效果（如图X5-2-3）

X5-2-3
上图设置完之后 我们再回到“基础”tab页面 右键 点击“预览”按钮 出现的效果如图X5-2-4

X5-2-4
通过上图中，我们可以通过预览按钮查看我们的配置效果如何，如果效果符合我们的需求，那么我们可以在“基础”tab页右键点击“创建查询菜单”按钮可以将此页面发布前台菜单如下图X5-2-5

X5-2-5
以上步骤都配置完之后 我们在前端点击相应的菜单出来的效果如下图X5-2-6

X5-2-6
X5-3-基础
5.3.1、概述
基础是定义的某个查询列表的具体信息页面。在此页面上可以针对查询列表的一些功能点进行设置。
5.3.2、功能说明
在系统【后端应用中心】→【建模引擎】→【应用建模】--->点击某个应用然后点击查询菜单页面下的“基础”如下图X5-3-1

X5-3-1
页面属性说明：
名称：定义查询列表的名称
表单名称：查询列表关联的表单（可以选择实际表单和虚拟表单）
模块名称：选择完表单自动带出表单所关联的模块，如果同一个模块关联多个模块的时候则关联的模块都会带出供用户选择。
固定查询条件：定义查询列表的显示条件详情见《X5-4-固定查询条件》
隐藏快捷搜索：勾选了就把创建人相关的查询条件在查询条件页面中隐藏。
无权限列表：勾选表示查询列表查询出所有数据不过滤权限。但是打开具体的某一条数据的时候还是会判断权限。
查询条件是否展开：勾选表示，前端打开查询页面，查询条件自动展开在查询页上面。
自定义列宽/每页显示条数：勾选表示前台用户可以拖动列宽并定义每页显示条数。点击后面（历史数据）按钮，表示清除用户之前拖动列宽保存的样式，统一按照后台设置来显示。
数据打开方式：在查询列表点击一条数据打开的方式弹出窗口：弹出一个新的tab页打开。默认窗口：在当前页面上打开。
每页显示记录数：定义查询列表每页显示的数量。
显示顺序：定义（图1）页面上左侧的显示顺序。默认为显示顺序的升序排序。
描述：描述此查询列表的用途。
在（图X5-3-1）页面上左侧的右键按钮的功能介绍具体如下图X5-3-2

X5-3-2
“新建查询”：点击此按钮可以定义一个查询列表详情见 《X5-2-查询》
“复制查询”：点击此按钮可以复制一个已经定义的查询列表详情见《X5-5-复制查询》
在（图X5-3-1）页面上右侧的右键按钮的功能介绍具体如下图X5-3-3

X5-3-3
“保存”：点击此按钮保存基础页面上的信息。
“删除”：点击此按钮删除定义的查询列表。
“新建查询”：点击此按钮可以定义一个新的查询列表 详情见 《X5-2-查询》
“复制查询”：点击此按钮可以复制一个已经定义的查询列表 详情见 《X5-5-复制查询》
“预览”：点击此按钮可以预览查询列表前端效果。
“创建查询菜单”：点击此按钮可以创建已配置的查询列表的前端菜单
“查看查询菜单地址”：点击此按钮可以查看查询列表的前端地址。
“创建监控菜单”：点击此按钮可以创建监控列表的前端菜单
“查看监控菜单地址”：点击此按钮可以查看监控列表的前端地址 
X5-4-固定查询条件
5.4.1、概述
固定查询条件可以对查询列表设置条件，然后查询列表会按照设置的条件显示数据。
5.4.2、应用场景说明
当需要设置一个列表按条件显示数据时，可以通过固定查询条件来设置，比如说一个合同信息列表，只需要查看合同状态为签订完成的合同，则通过设置固定查询条件，通过sql语句或者写Java代码设置固定查询条件合同状态为签订完成的（如图X5-4-1）。

X5-4-1
5.4.3、功能说明
1、后端设置：通过在【后端应用中心】→【建模引擎】→【应用建模】→【查询】在对应的查询列表中设置固定查询条件，如下图X5-4-2。

X5-4-2
说明：
可以通过sql或者java代码写固定查询条件：
1）sql：勾选sql时，通过在方框中输入sql查询条件。
2）java：勾选java时，可以通过填写对应java条件文件编译出来class文件路径。
3）写条件时主表别名为t1，明细表别名为d1。
4）设置固定查询提交时，要以数据库中存的值进行编写，如选择框是0、1、2...，浏览框是写id值。
2、设置固定查询条件后，预览查询表单或者前台查看查询列表时，默认按设置的固定查询条件显示数据。如下图X5-4-3。

X5-4-3
5.4.4、实施注意
1、在写固定查询条件时，要按照参考数据库中存的值写。
2、当对应表单存在明细表时，可以将明细表字段设置为固定查询条件，需选择一个子表，且无论选择哪个子表，别名均为d1，如果是主表字段，则别名为t1。
3、固定查询条件支持变量参数如当前用户当前日期等 具体如下
//  当前操作者 $UserId$
//  当前操作者部门$DepartmentId$
//  当前操作者部门（包含下级部门）$AllDepartmentId$
//  当前操作者分部$SubcompanyId$
//  当前操作者分部（包含下级分部）$AllSubcompanyId$
//  当前日期$date$
// 当前操作者编号$WorkCode$
4、固定查询条件支持传参，格式为and t1.col1=PARM(type)（字符串类型的字段需要加单引号'），可以用于url中加“&type=1”的方式用于其他地方调用。
X5-5-复制查询
5.5.1、概述
通过复制查询功能可以复制现有的查询列表生成一个新的查询列表，新的查询列表会复制查询列表的相关信息，然后稍作修改就可以。
5.5.2、应用场景说明
当需要新建一个相同模块相类似的列表时，则可以通过复制查询复制新建一个查询列表，然后再根据需要在复制生成的查询列表稍作修改，比如当前存在一个显示所有客户的客户卡片列表，然后需要再新建一个设置固定条件的客户卡片列表时，则可以先复制查询生成新的查询列表，再修改下固定查询设置就可以了。
5.5.3、功能说明
通过【后端应用中心】→【建模引擎】→【应用建模】→【查询】选定要复制的查询，操作复制查询则会复制新增一个查询。如下图X5-5-1。

X5-5-1
说明：通过复制查询生成的查询与被复制的一致，基础、字段定义、权限、批量操作相关设置都会复制。
5.5.4、实施注意
通过复制查询也会复制权限，需要注意权限设置。
X5-6-字段定义
5.6.1、概述
字段定义页面为查询列表列相关的功能配置页面。
5.6.2、功能说明
在系统【后端应用中心】→【建模引擎】-【应用建模】--->点击某个应用然后点击查询tab页页面下的“字段定义”如下图X5-6-1

X5-6-1
此页面默认显示出查询列表关联表单中的所有字段。此页面上具体功能说明如下：
标题：勾选表示需要在查询列表上显示的字段列。
字段：为查询列表关联的表单中的字段的列名
名称：为查询列表关联的表单中的字段的显示名
顺序：为查询列表前端显示列的顺序。前端查询列表列的显示顺序为从左至右按照此顺序的升序显示。
链接字段：查询列表中可以链接的字段———否：不设置链接字段。表单建模：链接的地址为表单建模的地址。工作流程：链接的地址为工作流程的地址。自定义：用户自定义的链接地址。
链接路径：根据链接字段选择的不一样链接路径也不一样的值。支持取查询列的值作为参数具体如 《X5-8-链接路径参数》。
排序：勾选表示此字段的数据需要排序。详情见 《X5-11-数据排序》
排序类型：表示勾选的字段是按照什么样的类型排序。默认升序，默认降序。
默认排序优先级：勾选的字段的排序优先级设置。
列宽%：设置查询列显示的宽度。当设置的宽度超过100%则会显示滚动条。
查询条件：勾选表示此字段前端作为查询条件。
条件参数：设置查询条件取参数值作为条件进行搜索出对应的数据详情见 《X5-9-条件参数》
查询条件显示顺序：设置查询条件在快捷搜索页面的显示顺序。
高级查询条件：设置高级查询对应查询条件。
高级查询条件显示顺序：设置的高级查询条件的显示顺序。
关键字：查询列表上的关键字搜索详情见 《X5-13-查询关键字》
统计：数字类型字段可以设置统计详情见 《X5-11-统计》
分组：选择框字段可以设置分组设置完了分组前端数据将按照选择框的值进行分组显示数据详情见 《X5-10-分组功能》
显示转换：字段值在查询列表中以不同的形式的显示详情见 《X5-14-显示转换》
选择框多选：选择框字段设置选择框多选，这个字段在查询条件中可以选择多个值进行搜索。
地图定位：单行文本字段设置地图定位，在查询列表，显示地图图标。
批量修改：勾选上对应字段，配置了批量修改权限，在查询列表可以批量修改字段值。《X5-7-批量修改》
对齐方式：
X5-7-批量修改（功能没好，待写）

X5-8-链接路径参数功能
5.8.1、概述
链接路径参数功能是指链接的路径获取字段的值作为url路径中参数的值。
5.8.2、功能说明
在系统【后端应用中心】→【建模引擎】-【应用建模】--->点击某个应用然后点击查询tab页页面下的“字段定义”页面中的链接路径编写参数值 具体 如下图X5-8-1

X5-8-1
说明：
1）标题字段支持单文本、整数、浮点数、金额转换、金额千分位、选择框类型字段。
2）默认勾选时，会带出模块卡片链接地址，可以自定义编辑链接地址为流程查看地址或者自定义的链接地址，地址中可以通过$字段名$的格式取当前表单字段的值。
设置后，点击标题字段链接可以链接到对应的地址并且解析出对应参数的值 如下图X5-8-2

X5-8-2
注意：链接字段参数不支持带格式文本字段。
X5-9-条件参数
5.9.1、概述
通过查询中设置的条件参数，可以在查询列表对应url地址中设置条件参数值后，查询列表搜索条件中会获取url地址中条件参数的值，然后查询列表中数据会根据条件参数值进行过滤。
5.9.2、功能说明
通过进入【后端应用中心】→【建模引擎】→【应用建模】→【查询】，在对应的查询字段定义中，勾选对应的查询条件后，可以设置对应字段的条件参数。如下图X5-9-1。

X5-9-1
 设置完成后，通过在url中设置条件参数的值，查询列表会根据条件参数的值进行过滤。如下图X5-9-2

X5-9-2
查询条件中会获取条件参数值，可以重新设置搜索条件进行搜索。如下图X5-9-3。

X5-9-3
查询条件中会获取条件参数值，可以重新设置搜索条件进行搜索。如下图X5-9-4。

X5-9-4
说明：
1）需要勾选查询条件后，才能设置条件参数，去勾选查询条件或者去勾选标题后，会清空条件参数设置。
2）除特殊字段类型，其他类型字段都支持设置条件参数。
3）设置多个条件参数时，可以通过“-”分隔，如“date1-date2”。
4）支持的变量参数如下几个：
//	 当前操作者 $UserId$
//	 当前操作者部门$DepartmentId$
//	 当前操作者分部$SubcompanyId$
//	 当前日期（今天）$date$
// 本周$ThisWeek$
// 本月$ThisMonth$
// 本季$ThisSeason$
// 本年$ThisYear$
// 上个月$LastMonth$
// 上一年$LastYear$
其中日期字段，在查询列表处对应字段设置条件参数，比如rq，在url添加&rq=$ThisYear$ 则查询列表中的此日期字段默认选择 本年进行搜索出相应的数据。那么今天，本周，本月，本季，本年，上个月，上一年，也是类似此方法去实现（如图X5-9-5）。

X5-9-5
5.9.3、注意事项
1、除特殊类型字段，其他类型字段都支持设置条件参数。
2、设置条件参数的值时，需要根据数据库中保存值的类型设置，如选择框、浏览框等需要设置id。
3、日期、时间字段类型需注意格式。
4、文本类型字段对应条件参数支持设置“上海泛微”“上海+泛微”“上海泛微”格式类型赋值进行搜索。
5、复制查询时，也可以将条件参数设置复制过来。
6、url地址中存在条件参数时，只有在初始化列表的时候会根据条件参数过滤数据，可以重新设置查询条件进行查询。
X5-10-分组功能
5.10.1、概述
通过此功能设置可以实现选择框字段的分组显示列表中的数据。
5.10.2、应用场景说明
当查询列表中有选择框类型的字段用户想根据此选择框类型字段中的值进行分组显示。
则可以使用此功能实现，实现效果如下图X5-10-1

X5-10-1
5.10.3、功能说明
在系统【后端应用中心】→【建模引擎】-【应用建模】--->点击某个应用然后点击查询tab页页面下的“字段定义”页面中的链接路径编写参数值具体 如下图X5-10-2

X5-10-2
说明：
只有选择框类型的字段分组那列才可以选择。默认为否，当需要将这个字段进行分组则选择是。
一个查询列表中只有一个选择框字段中可以设置分组。
在上图页面设置完了分组前端显示的效果如下图X5-10-3

X5-10-3
说明：
设置完分组之后前端会显示一个“全部”：表示所有的数据。“空值”：表示此字段没有值的数量
X5-11-数据排序
5.11.1、概述
可以通过设置排序和默认排序优先级设置查询列表中数据的排序方式。
5.11.2、应用场景说明
通过查询列表的数据排序功能，设置查询列表默认排序或者设置指定字段可以前台进行排序，通过排序功能可以更方便的预览列表中数据。如下图X5-11-1：

X5-11-1
5.11.3、功能说明
1、通过在【后台应用中心】→【建模引擎】→【查询】在对应的查询列表的字段定义中通过设置排序和默认排序优先级设置查询列表数据排序的功能。如下图X5-11-2。

X5-11-2
说明：
1）排序：排序中包含是、否、默认升序、默认降序四个选项。选择是时，前台可以点击对应的字段标题进行手动排序；选否时则不能排序；选择默认升序后，前台查询列表数据会默认按照该字段数据进行升序排序，可以通过手动点击对应字段标题进行手动排序；选择默认降序时，前台查询列表数据会默认按照该字段数据进行降序排序，可以通过手动点击对应字段你标题进行手动排序。
2）默认排序优先级：通过填写数字设置默认排序字段的优先级，仅在排序选择默认升序或者默认降序时生效。
2、设置了排序时，前台会按照排序设置进行排序，也可以手动点击标题进行排序。如下图X5-11-3。

X5-11-3
5.11.4、实施注意
1、排序优先级只有在排序选择默认升序或者默认降序时才可以设置。
2、支持排序字段的类型有：单文本、整数、浮点数、金额转换、金额千分位、选择框、浏览框（单选）。
3、前台排序时是按照数据库中存的值进行排序，如选择框和浏览框是按照0、1、2…和浏览框的id进行排序，而不是按照浏览框和选择框显示的值排序。
4、如果有设置默认排序，点击标题时，会按照点击标题对应的字段进行排序。
X5-12-统计（功能没好--待写）
5.12.1、概述
统计功能可以针对数字类型的字段进行统计，并且显示当前页的统计数据和总数。
5.12.2、应用场景说明
比如列表中存在数字字段，需要统计某个字段的总数时，则可以使用统计功能。如客户卡片列表，想要统计客户联系人的人数时，则可以设置联系人个数进行统计，则在列表中会显示联系人个数的总数和当前页的总数。如下图：
X5-12-1
5.12.3、功能说明
1、通过【后台应用重心】→【建模引擎】→【查询】在对应的查询的自定定义中设置统计。如下图。
X5-12-2
说明：
可以设置统计的字段类型有：整数、浮点数、金额转换、金额千分位。
2、设置统计后，在前台查询列表，可以看到统计信息。如下图。

 X5-12-3
说明：
1）当页合计：统计的是当前页对应字段的数据。
2）总计：统计的是列表中所有数据对应字段的数据。
5.12.4、实施注意
1、支持统计设置的字段类型有：整数、浮点数、金额转换、金额千分位。
2、在前台统计有显示当页合计和总计，当页合计只统计当前页，总计统计的是列表中的所有数据。
X5-13-查询关键字
5.13.1、概述
通过设置关键字，可以在前台查询列表的快捷搜索框中输入对应字段的内容进行搜索，并且支持多个字段设为关键字进行查询，以实现快速查询的功能。
5.13.2、应用场景说明
在某个搜索条件或者某几个搜索条件经常使用时，可以设置为关键字，然后在查询列表中则可以在快捷搜素框中输入信息进行快速搜索，不需要在高级搜索里面进行搜素。如合同信息列表，想要通过合同编号和合同名称进行搜索时，则可以设置这两个字段作为关键字。如下图X5-13-1：

X5-13-1
5.13.3、功能说明
1、可以通过【后端应用中心】→【建模引擎】→【应用建模】→【查询】找到对应的查询列表，在字段定义中设置关键字，可以设置多个。如图X5-13-2。

X5-13-2
说明：
1）关键字设置支持的字段类型有：单文本-文本、整数、浮点数、金额转换和金额千分位。
2）设置多个关键字时，前台是or查询，如设置了任务编号和任务名称为关键字，则前台快速搜索栏可以输入内容后会搜索出任务编号或者任务名称符合条件的数据。
2、设置关键字后，前台查询列表可以通过输入关键字对应的内容进行搜索。如图X5-13-3。

X5-13-3
说明：
输入内容后可以按回车或者点击搜索图标进行搜索。
5.13.4、实施注意
1、支持设置关键字的字段类型有：单文本-文本、整数、浮点数、金额转换和金额千分位，不支持的字段不会显示关键字设置选项。
2、设置多个关键字时，是按or的方式进行搜索。
3、前台输入内容后支持点击搜索图标或者按回车进行搜索。
X5-14-显示转换
5.14.1、概述
通过显示转换，可以自定义对应字段内容在前台查询列表中不同的内容显示不同的样式。
5.14.2、应用场景说明
通过显示转换，可以设置不同的选项或者不同的内容按不同的样式显示或者针对附件字段是否提供下载和批量下载。如下图X5-14-1。

X5-14-1
5.14.3、功能说明
1、通过在【后台应用中心】→【建模引擎】→【应用建模】→【查询】找到对应的查询列表，在字段定义tab页针对对应的字段设置显示转换。如下图X5-14-2。

X5-14-2
说明：
显示转换功能支持的字段类型有：整数、浮点数、金额转换、金额千分位、选择框、浏览框-日期、附件上传、check框。
2、针对不同类型的字段显示转换设置的内容不一样。
1）针对数字类型的（整数、浮点数、金额转换、金额千分位），可以设置不同的条件按不同的样式显示。如下图X5-14-3。当字段类型为整数和浮点数类型的时候，点击后面的显示转换。

X5-14-3
说明：
添加按钮：添加显示方式转换设置。
删除按钮：删除显示方式转换设置。
字段条件1、字段条件2：设置字段条件。
显示值：设置列表中对应字段显示值，可以通过html代码设置样式。
背景颜色：通过填写颜色代码简单设置前台列表对应字段内容显示的背景颜色。
字体颜色：通过填写颜色代码简单设置前台列表对应字段内容显示的字体颜色。
金额大写：Amount($当前字段名称$) 表示当前字段值如果需要转换大写显示的话，那么就在显示值中写Amount($当前字段名称$)此函数
金额千分位：Thousands($当前字段名称$) 表示当前字段值如果需要转换成金额千分位时 那么在显示值中写此函数Thousands($当前字段名称$)
2）针对选择框类型的字段，则针对不同的选项值进行设置。如下图X5-14-4。

X5-14-4
说明：
字段条件、字段值：设置对应的显示条件。
显示值：设置列表中字段显示的值，可以通过一段代码设置样式。
背景颜色：设置列表中对应字段显示内容的背景色。
字体颜色：设置列表中对应字段显示内容的字体颜色。
3）针对日期类型的字段，则针对不同的条件进行设置。如下图X5-14-5。

X5-14-5
说明：
字段条件1、字段条件2：设置日期字段的条件。
显示值：设置列表中字段显示的值，可以通过一段代码设置样式。
背景颜色：设置列表中对应字段显示内容的背景色。
字体颜色：设置列表中对应字段显示内容的字体颜色。
4）针对附件上传字段，可以设置是否显示下载、批量下载按钮。如下图X5-14-6。

X5-14-6
说明：
选中：选中对应的选项可以设置是否显示对应的按钮。
显示格式、说明：描述对应的选项。
5）针对check框类型字段，可以设置选择或者不选中显示的效果。如下图X5-14-7。

X5-14-7
说明：
字段条件、字段值：显示check框字段的条件信息。
显示值：设置check框字段内容显示样式。
背景颜色、字体颜色：设置check框字段内容显示背景颜色和字体颜色。
3、前台显示效果。如下图X5-14-8。

X5-14-8
5.14.4、实施注意
1、列表中只有支持设置显示转换的字段，才可以操作设置显示转换，点击对应字段在显示转换列空白处则会显示显示转换的图标。
2、支持的字段类型有：整数、浮点数、金额转换、金额千分位、选择框、浏览框-日期、附件上传、check框。
3、可以结合显示值、背景颜色、字体颜色设置前台的显示效果，注意显示值使用代码时，不要与背景颜色、字体颜色重复设置。
4、设置链接字段会与设置显示转换冲突，设置链接字段时，不能设置显示转换
X5-15-权限
5.15.1、概述
定义查询列表菜单和监控列表菜单的访问权限。
5.15.2、功能说明
在查询中可以设置对应查询列表在前台创建的菜单的访问权限，查询中的权限可以设置的权限类型有查看权限、监控权限、批量修改权限（如图X5-15-1）。

X5-15-1
查看权限：可以设置对应查询列表菜单的访问权限。
监控权限：可以设置对应查询列表对应的监控菜单的访问权限。
批量修改权限：可以设置查询列表批量修改这个按钮权限。
查看权限
查询列表的查看权限是指对应查询列表菜单的访问权限，查询列表的查看权限是指前台对应查询列表菜单的访问权限，有查看权限的人员在前台可以正常访问查询列表菜单，没有权限的人员访问菜单时，则会提示无权限。
注意：
1）当查询列表没有设置查看权限时，所有可以看到菜单的人员都可以访问查询列表菜单，当查询列表设置了查看权限时，则只有查询列表中有查看权限的人员才可以访问查询列表菜单。
2）查询列表中的显示的数据是由模块中的共享权限来控制的，当列表有选择模块时，列表中会显示该模块的所有有查看权限（查看、编辑、完全控制）的数据；当列表没有选择模块时，则会显示该列表引用的表单对应的所有模块有权限的数据。
查询列表的查看权限共享类型有人员、部门、分部、角色、所有人、岗位这6种类型（如图X5-15-2）。

X5-15-2
人员：可以设置指定人员有查询列表的查看权限。
部门：可以结合安全级别设置指定部门下的人员有查询列表的查看权限。
分部：可以结合安全级别设置指定分部下的人员有查询列表的查看权限。
角色：可以结合安全级别设置指定角色的人员有查询列表的查看权限。
所有人：可以结合安全级别设置组织架构下的人员有查询列表的查看权限。
岗位：可以结合岗位级别设置组织架构下对应岗位人员有查询列表监控菜单的访问权限
A.1人员
共享类型为人员时，可以设置指定的人员有查询列表的查看权限，有权限的人的可以在前台正常访问对应的查询列表菜单。
A.2部门
共享类型为部门时，可以结合安全级别设置某个部门或者某几个部门的人员有查询列表的查看权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应部门下安全级别符合设置的值的人员都有查询列表的查看权限，有权限的人可以在前台正常访问查询列表菜单。
A.3分部
共享类型为分部时，可以结合安全级别设置某个分部或者某几个分部下的人员有查询列表的查看权限，可以添加多个权限项。
1）选择：选择要添加权限的分部，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有查询列表的查看权限，有权限的人的可以在前台正常访问对应的查询列表菜单。
A.4角色
共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有查询列表的查看权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模中对应查询列表有查看权限的级别。
部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有查询列表的查看权限。
分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有查询列表的查看权限。
总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有查询列表的查看权限。
3）安全级别：设置表单建模查询列表有查看权限的人员的安全级别。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有查询列表的查看权限，有权限的人的可以在前台正常访问对应的查询列表菜单。
A.5所有人
共享类型为所有人时，可以结合安全级别设置组织架构中的人员有查询列表的查看权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有查询列表的查看权限，有权限的人的可以在前台正常访问对应的查询列表菜单。
A.6 岗位
共享类型为岗位时，可以结合岗位级别设置组织架构下对应岗位人员有查询列表的查看访问权限，可以添加多个权限项。
岗位级别，分为指定部门，指定分部，总部。默认为总部。如果选择指定部门，代表，满足此岗位的人，并且也需要满足指定部门的人，才具有权限。
如果选择指定分部，代表，满足此岗位的人，并且也需要满足指定分部的人，才具有权限。
如果选择指定总部，代表，满足此岗位的人，都具有权限。
监控权限
查询列表的监控权限是指通过查询列表创建的监控列表菜单的访问权限，有监控权限的人员在前台可以正常访问监控列表菜单，没有权限的人员访问菜单时，则会提示无权限，监控列表中的数据会显示对应模块的所有数据。
注意：
1）模块中设置的监控权限有访问监控菜单和删除数据的权限。查询列表中设置的监控权限只有访问监控菜单的权限。当查询列表没有设置监控权限时，则以对应模块中设置的监控权限为准，没有监控权限的人员不能访问监控列表菜单；当查询列表设置了监控权限时，模块中也设置了监控权限则同时拥有模块和查询列表中设置的监控权限。
2）当列表有选择模块时，监控列表中会显示该模块所有数据；当列表没有选择模块时，则会显示列表引用的表单对应的所有模块的数据。
查询列表的查看权限共享类型有人员、部门、分部、角色、所有人、岗位（这6种类型），如图X5-15-3。

X5-15-3
人员：可以设置指定人员有查询列表监控菜单的访问权限。
部门：可以结合安全级别设置指定部门下的人员有查询列表监控菜单的访问权限。
分部：可以结合安全级别设置指定分部下的人员有查询列表监控菜单的访问权限。
角色：可以结合安全级别设置指定角色的人员有查询列表监控菜单的访问权限。
所有人：可以结合安全级别设置组织架构下的人员有查询列表监控菜单的访问权限。
岗位：可以结合岗位级别设置组织架构下对应岗位人员有查询列表监控菜单的访问权限
B.1人员
共享类型为人员时，可以设置指定的人员有查询列表监控菜单的访问权限，有权限的人的可以在前台正常访问对应的查询列表对应的监控菜单。
B.2部门
共享类型为部门时，可以结合安全级别设置某个部门或者某几个部门的人员有查查询列表监控菜单的访问权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应部门下安全级别符合设置的值的人员都有查询列表监控菜单的访问权限，有权限的人可以在前台正常访问查询列表对应的监控菜单。
B.3分部
共享类型为分部时，可以结合安全级别设置某个分部或者某几个分部下的人员有查询列表监控菜单的访问权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有查询列表监控菜单的访问权限，有权限的人的可以在前台正常访问查询列表对应的监控菜单。
B.4角色
共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有查询列表监控菜单的访问权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模中有对应查询列表的监控菜单的访问权限的级别。
部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有查询列表的监控菜单的访问权限。
分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有查询列表的监控菜单的访问权限。
总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有查询列表的监控菜单的访问权限。
3）安全级别：设置表单建模查询列表的监控菜单有访问权限的人员的安全级别。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有查询列表的监控菜单的访问权限，有权限的人的可以在前台正常访问对应的查询列表的监控菜单。
B.5所有人
共享类型为所有人时，可以结合安全级别设置组织架构中的人员有查询列表的监控菜单的访问权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有查询列表的监控菜单的访问权限，有权限的人的可以在前台正常访问查询列表对应的监控菜单。
B.6 岗位
共享类型为岗位时，可以结合岗位级别设置组织架构下对应岗位人员有查询列表监控菜单的访问权限，可以添加多个权限项。
岗位级别，分为指定部门，指定分部，总部。默认为总部。如果选择指定部门，代表，满足此岗位的人，并且也需要满足指定部门的人，才具有权限。
如果选择指定分部，代表，满足此岗位的人，并且也需要满足指定分部的人，才具有权限。
如果选择指定总部，代表，满足此岗位的人，都具有权限。

批量修改权限
查询列表的批量修改权限是指对应查询列表可以批量修改具有编辑和完全控制权限的数据。具有批量修改权限，则在前端查询列表右键会显示一个“批量修改”按钮，点击批量修改按钮后刷新列表，显示当前用户具有编辑和完全控制权限的数据。
注意：
1）当人员具有查询列表批量修改权限时，在查询列表右键会多出一个“批量修改”的按钮，反之没有权限的人这个按钮不显示
查询列表的批量修改权限共享类型有人员、部门、分部、角色、所有人、岗位这6种类型（如图X5-15-4）。

X5-15-4
人员：可以设置指定人员有查询列表的批量修改权限。
部门：可以结合安全级别设置指定部门下的人员有查询列表的批量修改权限。
分部：可以结合安全级别设置指定分部下的人员有查询列表的批量修改权限。
角色：可以结合安全级别设置指定角色的人员有查询列表的批量修改权限。
所有人：可以结合安全级别设置组织架构下的人员有查询列表的批量修改权限。
岗位：可以结合岗位级别设置组织架构下对应岗位人员有查询列表的批量修改权限。
C.1人员
共享类型为人员时，可以设置指定的人员有查询列表的批量修改权限，有权限的人的可以在前台看到批量修改按钮，正常进行批量修改数据。
C.2部门
共享类型为部门时，可以结合安全级别设置某个部门或者某几个部门的人员有查询列表的批量修改权限，可以添加多个权限项。
1）选择：选择要添加权限的部门，可以添加多个部门。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应部门下安全级别符合设置的值的人员都有查询列表的批量修改权限，有权限的人的可以在前台看到批量修改按钮，正常进行批量修改数据。
C.3分部
共享类型为分部时，可以结合安全级别设置某个分部或者某几个分部下的人员有查询列表的批量修改权限，可以添加多个权限项。
1）选择：选择要添加权限的分部，可以添加多个分部。
2）安全级别：设置有权限的人员的安全级别。
添加权限后，权限列表中对应分部下安全级别符合设置的值的人员都有查询列表的批量修改权限，有权限的人的可以在前台看到批量修改按钮，正常进行批量修改数据。
C.4角色
共享类型为角色时，可以选择角色设置中的角色添加权限，结合安全级别、共享级别和角色设置对应的人员有查询列表的批量修改权限，可以添加多个权限项。
1）选择：选择要设置权限的角色。
2）共享级别：设置表单建模中对应查询列表有批量修改权限的级别。
部门：共享级别为部门时，则所选择的角色中级别为部门、分部、总部的成员都有查询列表的批量修改权限。
分部：共享级别为分部时，则所选择的角色中级别为分部、总部的成员都有查询列表的批量修改权限。
总部：共享级别为总部时，则所选择的角色中只有级别为总部的成员才有查询列表的批量修改权限。
3）安全级别：设置表单建模查询列表有批量修改权限的人员的安全级别。
添加角色相关权限后，只有角色中级别大于或等于设置的共享级别且安全级别大于或等于设置的安全级别的成员才有查询列表的批量修改权限，有权限的人的可以在前台看到批量修改按钮，正常进行批量修改数据。
C.5所有人
共享类型为所有人时，可以结合安全级别设置组织架构中的人员有查询列表的批量修改权限，可以添加多个权限项。
1）安全级别：设置人员的安全级别。
添加所有人相关权限后，系统组织架构中大于或等于设置的安全级别的人员有查询列表的批量修改权限，有权限的人的可以在前台看到批量修改按钮，正常进行批量修改数据。
C.6 岗位
共享类型为岗位时，可以结合岗位级别设置组织架构下对应岗位人员有查询列表批量修改权限，可以添加多个权限项。
岗位级别，分为指定部门，指定分部，总部。默认为总部。如果选择指定部门，代表，满足此岗位的人，并且也需要满足指定部门的人，才具有权限。
如果选择指定分部，代表，满足此岗位的人，并且也需要满足指定分部的人，才具有权限。
如果选择指定总部，代表，满足此岗位的人，都具有权限。
X5-16-自定义按钮
5.16.1、概述
定义查询列表上数据的自定义按钮具体效果如下图X5-16-1

X5-16-1
5.16.2、功能说明
在系统【后端应用中心】→【建模引擎】-【应用建模】--->点击某个应用然后点击查询tab页页面下的“自定义按钮”如下图X5-16-2

X5-16-2
在（图X5-16-2）页面上右键点击“新建”按钮出现的页面如下图X5-16-3

X5-16-3
页面属性说明：
名称：自定义按钮的名称
链接目标方式：点击此按钮跳转的路径或者执行的方法。
手动输入：定义按钮执行的方法
链接：定义按钮跳转的路径。
当链接目标方式选择手动输入时：
javascript方法名：定义js方法名。命名规范为：javascript:onUrl();
javascript方法参数：js方法中传递的参数名。这个是字段的列名
javascript方法体：编写js方法的逻辑代码。方法体命名规范：function onUrl（id,params）{}
当链接目标方式选择链接时
链接打开方式：打开路径的方式。TAB页:新的tab页打开，弹出框：以弹出框的方式打开。
链接目标参数id：传递路径的参数名称
链接目标参数field：传递路径参数名称对应的值可以填写字段列名就表示取这个字段列的值作为参数的值。
接口路径：定义此按钮显示的接口代码。
是否显示：勾选表示此按钮显示不勾选表示不显示
描述：此按钮的说明
显示顺序：此按钮的显示顺序（图1）列表页面上数据按照此显示顺序的升序排序。
当链接目标方式：手动输入时例子如下图X5-16-4：

X5-16-4
Javascript方法参数：填写字段的列名如果有多个则以逗号隔开。
前端显示效果如下图X5-16-5

X5-16-5
当链接目标方式：链接时例子如下X5-16-6：

X5-16-6
前端显示效果如下X5-16-7

X5-16-7
 【自定义按钮引用页面扩展】功能说明如下X5-16-8：

X5-16-8
针对自定义按钮处引用页面扩展的用户自定义按钮的说明如下：
1、扩展按钮在自定义按钮处显示是受权限控制的 是根据页面扩展处的权限来决定的。
2、扩展在自定义按钮中的显示条件为此页面扩展的扩展用途必须为【卡片页面】并且新建布局，编辑布局，显示布局三个勾选，必须是至少一定勾选显示页面，此按钮才会在“引用页面扩展”页面上显示方可才可以在自定义按钮处显示。
3、通过“引用页面扩展”添加的页面扩展按钮在自定义按钮处显示支持页面扩展上的接口执行。

X5-17-批量操作
5.17.1、概述
批量操作页面是用于配置此查询列表上右键需要显示那些按钮
5.17.2、功能说明
通过进入【后端应用中心】→【建模引擎】→【应用建模】→点击一个具体的“查询”下的“批量操作”tab页如下图X5-17-1

X5-17-1
此页面上的按钮分为两种操作类型。分别为系统默认和用户自定义。系统默认是每个查询页面都会共用的几个系统默认的按钮。用户自定义是通过页面扩展中所配置的自定义按钮具体如何配置如 《X3-11-页面扩展》。
针对此页面的功能点说明如下：
显示名称：用户可以自己定义右键按钮的显示名称。
是否启用：勾选表示此按钮在查询列表右键菜单中显示。默认新创建的用户自定义的按钮是不启用的。如果需要启用需要用户手动来启用。
显示顺序：定义右键按钮的显示顺序。
快捷按钮：勾选则表示在查询右上角也显示出按钮。
注意：如果用户针对此查询列表在页面扩展中设置了右键按钮 用户需要在此页面上勾选了方可显示。
  

浏览框
X6-1-浏览框
6.1.1、概述
自定义浏览框可以理解为是建模引擎中的表与表关联的一个桥梁。比如利用建模引擎搭建了一个客户管理，客户规模是一张表单，客户信息是一张表单，客户信息卡片中有个字段名为客户规模，关联的是客户规模表单中的数据，那么客户规模这个字段是如何关联客户规模卡片的信息，这个就需要通过我们的自定义浏览框功能作为一个桥梁把两者联系起来。
6.1.2、前端效果
要实现概述中描述的需求的效果（如图X6-1-1）

X6-1-1
6.1.3、功能配置说明
要实现上面的需求，接下来的配置是客户信息模块和客户规模信息模块，在建模引擎中已经搭建完，此些模块的搭建步骤我们不做阐述。接下来的步骤是在此基础上操作的。
在系统【后端应用中心】-【建模引擎】-【应用建模】，点击某个应用然后点击浏览框菜单（如图X6-1-2）

X6-1-2
点击上图中的“字段定义”tab页 ，设置自定义浏览框显示的字段（如图X6-1-3）

X6-1-3
上图配置完之后，然后再回到“基础”tab页，然后再右键 点击“创建浏览按钮”按钮（如图X6-1-4）

X6-1-4
上图创建浏览按钮之后 我们可以在“浏览框列表”tab页 看到创建浏览框按钮的标识（如图X6-1-5）

X6-1-5
上述配置完之后，接下来我们到客户信息的表单里面去，客户信息表单字段页面客户规模字段（如图X6-1-6）

X6-1-6
上述配置完之后，我们就可以看到《6.1.2、前端效果》中的效果。如果要设置成多选的浏览框，只需要将上图中的“自定义单选”选择为自定义多选即可。
X6-2-基础
6.2.1、概述
基础是定义的某个浏览框的具体信息页面。在此页面上可以针对浏览框的一些功能点进行设置
6.2.2、功能说明
1、在系统【后端应用中心】-【建模引擎】-【应用建模】点击某个应用然后点击浏览框菜单页面下的“基础”（如图X6-2-1）

X6-2-1
页面属性说明：
自定义浏览框名称：定义浏览框的名称
表单名称：浏览框关联的表单（可以选择实际表单和虚拟表单）
子表：表单选择的是主从表时，会出现子表选择，详情见《X6-9-浏览框支持明细表》
模块名称：选择完表单自动带出表单所关联的模块，如果同一个模块关联多个模块的时候则关联的模块都会带出供用户选择。
固定查询条件：浏览框的显示条件详情见 《X6-3-固定查询条件》
每页显示记录数：定义浏览框每页显示的数量。
无权限列表：勾选表示浏览框数据不过滤权限，关联了模块则显示该模块下所有数据，未关联模块则显示此表单的所有数据，选值之后点击链接还是会判断权限。
显示顺序：定义（图X6-2-1）页面上左侧的显示顺序。默认为显示顺序的升序排序。
描述：描述此浏览框的用途。
2、在（图X6-2-1 ）页面上左侧的右键按钮的功能介绍（如图X6-2-2）

X6-2-2
“保存”：点击此按钮保存基础页面上的信息。
“删除”：点击此按钮删除定义的浏览框，若被引用了则无法删除。
“预览”：点击此按钮可以预览此浏览框的前端效果，可选预览样式为单选或多选。
“新建浏览框”：点击此按钮可以新建一个新的浏览框。详情见《X6-1-浏览框》
“创建浏览按钮”：点击此按钮可以创建一个浏览框的标识。用于表单上字段类型为自定义单选和自定义多选可以选择到此处创建的浏览框的标识。
X6-3-固定查询条件
6.3.1、概述
通过浏览框的固定查询条件，可以浏览框选择内容时，按条件显示指定的数据。
6.3.2、应用场景说明
当浏览框选择数据时，需要按条件显示数据，如创建客户联系记录时，选择客户只需要显示大规模的客户时，则可以设置选择客户对应的浏览框设置固定条件时列表中只显示客户规模为大规模的客户（如图X6-3-1）。

X6-3-1
6.3.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】在对应的浏览框的基础tab页设置固定查询条件（如图X6-3-2）。

X6-3-2

说明：
1）sql：通过编写sql语句写浏览框的固定查询条件。表单主表表名的别名为t1，查询条件的格式为: t1.a = '1' and t1.b = '3' and t1.c like '%22%'。
2）java：通过编写java代码返回固定查询条件，选择java后会显示编写java文件的图标，在对应的java文件中编写java代码，也可以通过点击X删除当前的java代码文件。
2、设置浏览框固定查询条件后，在前台对应浏览框选择客户时，列表中数据会按照设置的固定条件进行过滤（如图X6-3-3）。

X6-3-3
6.3.4、实施注意
1、在写固定查询条件时，要按照参考数据库中存的值写，如选择框是0、1、2…等，浏览框是对应的主键值。
2、固定查询条件支持变量参数如当前用户当前日期等。具体如下
//  当前操作者 $UserId$
//  当前操作者部门$DepartmentId$
//  当前操作者部门（包含下级部门）$AllDepartmentId$
//  当前操作者分部$SubcompanyId$
//  当前操作者分部（包含下级分部）$AllSubcompanyId$
//  当前日期$date$
// 当前操作者工号$WorkCode$
3、支持自定义单选和自定义多选浏览框。
X6-4-字段定义
6.4.1、概述
字段定义页面是浏览框列相关的功能配置页面。
6.4.2、功能说明
在系统【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】在对应的浏览框的“字段定义”tab页进行设置（如图X6-4-1）

X6-4-1
此页面默认显示出浏览框关联表单中的所有字段。此页面上具体功能说明如下：
标题：勾选表示需要在浏览框上显示的字段列。
字段：为浏览框关联的表单中的字段的列名
名称：为浏览框关联的表单中的字段的显示名，支持自定义修改。
显示顺序：为浏览框字段列在前端弹出页面从左至右的显示顺序。
链接字段：某卡片上自定义浏览框列表选择完一条数据显示在此卡片上的字段。
否：不设置链接字段
是：设置此字段为在卡片上显示的字段。
快捷搜索字段：前端卡片上联想功能设置的字段具体 《X6-6-快捷搜索字段》
排序：勾选表示此字段的数据需要排序。详情见 《X6-5-排序功能》
排序类型：表示勾选的字段是按照什么样的类型排序。默认升序，默认降序。
默认排序优先级：勾选的字段的排序优先级设置。
列宽：勾选的字段在前端弹出框中的列宽
查询条件：勾选表示此字段前端作为查询条件。
查询显示顺序：设置在浏览框页面上查询条件在快捷搜索页面的显示顺序。
选择框多选：勾选了查询条件的选择框字段作为查询条件时是否支持选择多个值查询。
主键字段：支持自定义浏览框的主键，支持单行文本类型的字段。
 
X6-5-排序功能
6.5.1、概述
通过自定义浏览框的排序功能，可以在引用浏览框选择数据时，列表中的数据按设置的排序字段进行排序。
6.5.2、应用场景说明
如果浏览框选择数据时，数据比较多，如果字段按照一定的规律排序则便于查找定位找到要选择的数据，这种情况下则可以使用自定义浏览框的排序功能。如新建图书借阅记录时，选择书籍时，图书信息比较多，则可以按照书籍名字或者库存数数进行排序（如图X6-5-1）。

X6-5-1
6.5.3、功能说明
1、通过在【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】在对应浏览框的字段定义中通过设置排序和排序优先级设置指定字段进行排序（如图X6-5-2）。

X6-5-2
说明：
1）排序：可以设置指定字段的排序类型：是--可以进行排序，点击标题进行排序；否—不排序；默认升序—浏览框列表中数据默认升序排列，点击标题可以手动排序；默认降序—浏览框列表中数据默认降序排列，点击标题可以手动排序。
2）排序优先级：设置默认排序字段的优先级，数字从小到大按照优先级由高到低。
2、设置排序后，前台引用浏览框选择数据时，浏览框列表中的数据会按照排序设置进行排序，点击标题也可以按相关字段手动排序（如图X6-5-3）。

X6-5-3
6.5.4、实施注意
1、排序优先级只有在排序选择默认升序或者默认降序时才可以设置。
2、支持排序字段的类型有：单文本、整数、浮点数、金额转换、金额千分位、选择框、浏览框（单选）。
3、前台排序时是按照数据库中存的值进行排序，如选择框和浏览框是按照0、1、2…和浏览框的id进行排序，而不是按照浏览框和选择框显示的值排序。
4、如果有设置默认排序，点击标题时，会按照点击标题对应的字段进行排序。
X6-6-快捷搜索字段
6.6.1、概述
通过快捷搜索字段功能，可以实现在浏览框的方框中输入内容然后过滤出浏览框框列表数据，直接选择需要的数据，实现快捷选择数据的功能。
6.6.2、应用场景说明
当浏览框选择数据时，点击浏览框图标进入浏览框列表中找对应的数据，当数据量大的时候比较难找，通过快捷搜索功能可以输入匹配的字符然后过滤出浏览框数据列表，从中选择即可。
如选择客户时，直接从客户列表中选择数据比较多比较麻烦，可以直接在浏览框的输入框中输入内容，则会过滤出对应的数据，选择自己需要的数据即可（如图X6-6-1）。

X6-6-1
6.6.3、功能说明
1、通过【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】在对应的浏览框字段定义页面，通过设置快捷搜索字段（如图X6-6-2）。

X6-6-2
说明：
1）通过设置快捷搜索字段，在前台浏览框输入框中输入该字段相关内容时，则会过滤出数据供选择。
2）可设置快捷搜索字段类型有：单文本、多文本、整数、浮点数、金额转换、金额千分位。
3）可设置多个快捷搜索字段，设置后，输入内容会过滤出都符合条件的数据，但是列表中是显示该条数据对应的标题字段的内容。
2、浏览框启用快捷搜索前台显示效果（如图X6-6-3）。

X6-6-3
6.6.4、实施注意
1、可以设置多个快捷搜索字段，设置多个字段时，前台过滤列表显示的是过滤出的列表对应的标题字段信息。
2、支持设置快捷搜索字段的字段类型有：单文本、多文本、整数、浮点数、金额转换、金额千分位。
3、如果修改过浏览框的标题字段（链接字段）信息，则需要重新初始化被应用浏览框标识的信息，否则过滤列表显示可能与设置不一致。
X6-7-浏览框列表
6.7.1、概述
通过浏览框列表可以快速查看到通过该浏览框创建的浏览框标识，以及该浏览框标识被那些模块或者流程引用了，并且可以直接在浏览框列表中修改浏览框标识。
6.7.2、应用场景说明
在添加了浏览框标识后，可以通过在浏览框列表中直接修改浏览框标识信息，并可以进行初始化，则引用的浏览框标识则会以修改后的为准（如图X6-7-1）。

X6-7-1
6.7.3、功能说明
通过在【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】对应的浏览框的浏览框列表页面，可以看到通过该浏览框创建的所有浏览框标识，并且可以看到这些标识被那些地方引用了（如图X6-7-2）。

X6-7-2
说明：
1）浏览框列表中会显示当前浏览框对应的所有浏览框标识。
2）点击链接可以查看和修改对应的浏览框标识。
3）初始化：在浏览框标识基本信息页面通过右键“初始化”可以根据最新的浏览框设置信息初始化当前浏览框标识。
6.7.4、实施注意
1、浏览框标识不能重复。
2、修改浏览框设置如修改标题字段或者主键时，需要初始化被引用的浏览框标识。
X6-8-日志
6.8.1、概述
日志是记录浏览框后端配置的操作日志
6.8.2、功能说明
通过进入【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】点击一个具体的“浏览框”下的“日志”tab页（如图X6-8-1）

X6-8-1
说明：
此页面上记录浏览框基础数据的新建和编辑的操作日志。
在此页面上可以根据操作人，操作类型，操作时间进行数据搜索。
注意：此页面是记录浏览框后端的操作日志不是前端数据的变更日志。
X6-9-浏览框支持明细表
6.9.1、概述
此功能实现支持明细表配置浏览框，明细表配置的浏览框支持主表配置的浏览框的所有功能。
6.9.2、应用场景说明
比如有一个物资采购清单模块，关联主从表单，主表记录主物资的相关信息，子表记录子物资的相关具体信息，当物资采购回来入库时，需要选择到物资采购清单模块的子表信息，那么此时就可以通过物资采购清单的子表配置浏览框来实现这个功能（如图X6-9-1）。

X6-9-1
6.9.3、功能说明
1、在【后台应用中心】-【建模引擎】-【应用建模】-【浏览框】，新建浏览框，如果表单名称选择的是主从表的时候，下面就会出现选择子表的选择框（如图X6-9-2）

X6-9-2
说明：若选择表单为主表，则子表项不显示，若选择表单为主从表，则出现选择子表项，如子表不选择，则保存后该行隐藏，若选择了子表，则保存后该行为只读不允许修改。
2、明细表配置的浏览框功能说明：
1）表名选择主从表，并且子表选择了其中一个明细表，此时字段定义中的列会显示对应明细表的字段（如图X6-9-3）

X6-9-3
2）当子表选择的时候，不管字段定义中有没有勾选子表字段，此时显示的出来的都是两张表联合查询的数据。
3）当子表选择的时候，字段定义勾选了子表的字，显示子表的列。
4）当子表选择数据的时候，此时生成的标识中的sql是两张表的联合查询，但是对应的主键id 是明细表的id，连接中不会出现billid参数，而会以detailbillid来代替。
5）当子表选择数据的时候，字段定义中的所有功能点都生效。
6）浏览框中过滤数据的权限，即便子表选择数据并且也需要根据主表的数据id 过滤权限，权限还是根据模块中设置的来过滤。
7）固定查询条件支持明细表的列作为固定条件。
6.9.4、实施注意
1、如果子表没有选择，此时字段定义中显示只有主表的列，并且显示出来的数据只有主表的数据。
2、不管子表有没有选择值，无权限列表需要生效。
3、查询，浏览框，页面扩展，树形，默认值，字段联动，页面扩展，excel导入等页面上使用到自定义单多选的浏览框都支持明细表生成的自定义浏览框。
4、资源面板暂时只支持主表配置的浏览框，不支持明细表配置的浏览框。
5、流程转数据插入流程权限，目前也不支持明细表配置的浏览框。

树
X7-1-导航树
7.1.1、概述
将建模数据以类似于导航树形的形式展现数据 左侧是树形 右侧是点击树节点的相关数据。
7.1.2、应用场景说明
需求：将下图中的列表数据，利用建模中的树形功能搭建导航树展示数据。

X7-1-1
7.1.3、功能说明
实现X7-1-1中的需求，详细配置步骤如下
第一步：在【后端应用中心】【建模引擎】【应用建模】【树】选择某个具体的应用，创建一个名为：证照类型。显示样式为“导航树”具体截图如下

X7-1-2
第二步：在X7-1-2页面上，点击“树节点”tab页 在此页面右键“新建树节点”页面如下图

X7-1-3
因为workflow_selectitem这个表存放的是所有选择框的数据，这里只需要显示证照类型这个选择框的值，所以需要增加个数据过滤条件。效果如下图

X7-1-4
第三步：以上步骤配置完之后，后台树已经配置完了，此时在树的基础页面上右键点击“创建菜单”。把创建的导航树发布到前端，具体如下图

X7-1-5
第四步：在X7-1-5图片发布之后，在前端的显示效果如下

X7-1-6
X7-2-树形浏览框
7.2.1、概述
此功能是将建模数据以树形的形式展现在自定义浏览框上，更加形象的展示数据供用户选择。树形浏览框包括单选和多选。
7.2.2、应用场景说明
树形单选和树形多选引用的就是利用表单建模搭建的表单录入的数据。这些数据在此页面上引用的时候 我们是通过表单建模中的树形浏览框的功能来展现的。具体效果可以 点开树形单选和树形多选查看
单选树形展示如下图
X7-2-1
多选树形浏览框展示效果如下图
X7-2-2
7.2.3、功能说明
以费用科目的例子来讲解利用表单建模如何搭建树形浏览框在页面上使用。
第一步：在【后端应用中心】【建模引擎】【应用建模】中搭建一个用于存放费用科目数据的模块。具体如何搭建此处省略，搭建完之后在前端录入数据的效果如下

X7-2-3
第二步：在【后端应用中心】【建模引擎】【应用建模】【树】选择某个具体的应用，创建一个名为：费用科目。显示样式为“树形浏览框”具体截图如下

X7-2-4
第三步：在X7-2-4页面上，点击“树节点”tab页 在此页面右键“新建树节点”页面如下图

X7-2-5
第四步：在上面三步中，已经配置好了树形浏览框。可以在树形基础tab页中 右键点击“预览”按钮查看配置效果。

X7-2-6
第四步： 配置完了树形浏览框之后，接下来需要配置如何引用到卡片上去。表单字段类型为：浏览框-自定义树形单选，自定义树形多选。

X7-2-7
第五步：以上步骤配置完了之后 在前端显示的效果具体如X7-2-1,X7-2-2图片。
以上步骤实现了利用表单建模树形功能如何配置树形浏览框供其他模块调用。
X7-3-树(案例：组织结构树)
7.3.1、概述
利用表单建模中的树形功能搭建出系统的组织架构树。
7.3.2、场景说明
利用树形功能配置出组织结构树，此树是有四部分组成的顶部根节点，根节点下是分部，分部下是部门，部门下是人员。
此树中涉及到表单有
分部表名：HrmSubCompany主建：id上级：SUPSUBCOMID 显示名称：SUBCOMPANYNAME
链接目标地址：
/spa/hrm/engine.html#/hrmengine/organization?showTree=false&isView=1&type=subcompany&id=$id$
部门：表名：hrmdepartment 主建：id上级：SUPDEPID 显示名称：DEPARTMENTNAME
链接目标地址：
/spa/hrm/engine.html#/hrmengine/organization?showTree=false&isView=1&type=department&id=$id$
人员：表名：hrmresource主建：id上级：MANAGERID显示名称：LASTNAME
链接目标地址：/spa/hrm/index_mobx.html#/main/hrm/card/cardInfo/$id$
展现效果：

X7-3-1
7.3.3、功能说明
实现以上组织架构树的详细配置步骤如下：
第一步：在【后端应用中心】【建模引擎】【应用建模】【树】选择某个具体的应用，创建一个名为：04组织架构树。显示样式为“导航树”具体截图如下

X7-3-2
第二步：在X7-3-2页面上点击“树节点”tab，在此页面上创建一个名为“分部”的节点。具体页面如下图

X7-3-3
节点页面的详细介绍请查看：xxx
第三步：在X7-3-3页面上创建完分部树节点之后，此时再在树节点列表页面上右键点击“新建树节点”按钮，在此页面上创建部门树节点。具体如下图

X7-3-4
由于部门是挂在分部下面，在第二步和第三步中分别已经创建了分部树节点和部门树节点。正常我们是部门需要挂在分部下面。所以需要将部门节点和分部节点关联起来。打开部门节点配置好上级节点，本节点字段和上级节点字段。具体如下图

X7-3-5
第四步：在X7-3-4页面上创建完部门树节点之后，此时再在树节点列表页面上右键点击“新建树节点”按钮，在此页面上创建人员树节点。具体如下图

X7-3-6
由于人员是挂在挂在部门下面，在第三步和第四步中分别已经创建了部门树节点和人员树节点。正常我们是人员需要挂在部门下面。所以需要将人员节点和部门节点关联起来。打开人员节点配置好上级节点，本节点字段和上级节点字段。具体如下图

X7-3-7
第五步：以上四个步骤配置完之后，后台树已经配置完了，此时在树的基础页面上右键点击“创建菜单”。把创建的组织结构树放到前端上，具体如下图

X7-3-8
第六步：以上配置完了之后，在前端的效果如下图

X7-3-9 
自定义页面
X8-1-概述
自定义页面是指多个不同的页面组合在一起显示。
X8-2-应用场景说明
在实际业务场景中，需要将相关数据页面组合在一起显示。
X8-3-功能说明
在【后端应用中心】【建模引擎】【应用建模】【自定义页面】，创建自定义页面具体信息如下图

X8-3-1
说明：
1）名称、描述：设置自定义页面的基本信息。
2）自定义页面属性：可以添加前台需要访问的页面的信息，名称可以设置前台tab页面的名称；提示信息是鼠标移动到tab页标题时的提示信息；链接地址是设置访问的地址，可以为外部地址或者系统内地址，系统外的地址需要加上http://；描述是描述信息；显示顺序是设置前台自定义页面中不同页面在前台tab页的显示顺序。
3）新建自定义页面：可以添加自定义页面设置。
4）创建菜单：可以将设置的自定义页面创建到前台菜单中。
2、在图X8-3-1配置完之后，在前端的效果如下图

X8-3-2
X8-4-实施注意
1、添加自定义页面属性时，如果添加系统外地址，需要加上http://。
2、系统内的地址需要通过系统管理员查看。
提醒
X9-1-概述
在不同的企业能利用建模引擎模块搭建不同的业务模块，所以建模提醒需要实现各种应用消息提醒的集中管理。主要会遇到下列场景：
企业大部分业务场景都存在数据到期提醒（比如合同到期提醒，设备维修到期提醒，人员转正等提醒），即时提醒（比如：你有一个新的客户待查看！），定时提醒（比如：每个月定时哪天给特定的一些用户发送一些通知等）。
企业中的单据不再单纯的是一张主表，而是主表+明细表的形式展示数据。那么针对明细表的数据也需要支持提醒。
提醒的方式多元化，需要支持流程提醒，短信，邮件，微信，emobile提醒。
对于用户来说提醒中心需要配置简单，用户可以定义多种规则，提醒条件，动态提醒内容，自定义定时器触发规则等。
企业往往不再是单纯的一套OA系统，而是存在多套业务系统。表单建模可以通过虚拟表单的功能抓取外部系统的数据和本身系统的标准模块数据，在提醒中心中也需要对这些数据进行提醒。
目前表单建模提醒中心实现了各种应用消息提醒的集中管理，关键功能点如下：
提供三种提醒模式
企业中大部分业务场景提醒需求都是各种数据的到期提醒，到达某个日期的时候，提前或者延后多少天，发送一个提醒。目前建模提醒中心提供了三种提醒模式：
即时提醒：新建一条数据就触发提醒。
到期提醒：根据表单里面的日期时间字段或者常量，到达时间就发送提醒。
循环提醒：定时循环表中的数据触发提醒。
提供多种提醒方式
目前系统中支持的几种消息提醒方式，在建模提醒中心中都支持。目前已经实现了以下几种：
短信提醒：短信的方式发送提醒。
邮件提醒：邮件方式发送提醒
流程提醒：支持系统默认流程和自定义流程提醒。
云桥提醒：支持微信，钉钉提醒。
Emobile消息提醒：支持emobile消息提醒
提醒条件
企业中业务预警提醒，往往不是对表中的所有数据都提醒，可能是某一些类型或者某种状态的数据来提醒。比如：人员转正提醒，那么只针对那些未转正的人员数进行提醒，如果已经转正的人员那么就不需要提醒。所以设置提醒的时候就需要设置提醒条件。
动态提醒内容，提醒对象及定时器
动态提醒内容：提醒内容可获取表单字段的值，对于复杂的提醒内容提供接口。
提醒对象：设置提醒对象。
定时器：界面化形式设置定时器。
X9-2-功能说明
9.2.1、到期提醒
一、概述
利用建模提醒中心功能实现合同的到期提醒。
可实现根据表单中某日期字段提醒。比如到达这个日期时间之前或者之后多少天触发提醒。
提醒方式有短信，邮件，流程，微信，emobile消息。
二、场景说明
利用表单建模搭建了合同模块，需要实现合同结束日期在此日期结束之前，自动触发提醒给用户：您有XXX合同在XXX日期即将到期！

X9-2-1-1
三、功能说明
实现以上需求的配置详细配置步骤如下：
第一步：在【后端应用中心】【建模引擎】【应用建模】【提醒】选择某个具体的应用，创建一个名为：合同到期提醒。页面如下图

X9-2-1-2
第二步：在提醒配置页面设置合同的基本信息，具体说明如下

X9-2-1-3
第三步：在提醒配置页面设置提醒方式，具体说明如下

X9-2-1-4
第四步：在提醒页面设置提醒信息，具体说明如下

X9-2-1-5
第五步：在提醒页面设置触发提醒的定时器，具体说明如下

X9-2-1-6
通过以上步骤的配置，利用建模提醒中心实现合同数据的到期提醒。
9.2.2、即时提醒
一、概述
在新建数据时，可以触发提醒，提醒到对应的用户。
提醒方式有短信、邮件、流程、微信、Emobile信息。
提醒内容可以获取表单数据。
二、场景说明
比如：订单管理，系统录入一个新的订单的话，需要提醒相应用户。您有一个新的订单！

X9-2-2-1
三、功能说明
实现以上需求的配置详细配置步骤如下：
第一步：在【后端应用中心】【建模引擎】【应用建模】【提醒】选择某个具体的应用，创建一个名为：新订单提醒。页面如下图

X9-2-2-2
第二步：在提醒设置页面，设置提醒基本信息具体如下

X9-2-2-3
基本信息的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-3图片说明。
第二步：在提醒设置页面，设置提醒方式如下

X9-2-2-4
提醒方式的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-4图片说明。
第三步：在提醒设置页面，设置提醒信息如下

X9-2-2-5
提醒信息的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-5图片说明。
通过以上步骤的配置，利用建模提醒中心实现订单数据的即时提醒。
9.2.3、循环提醒
一、概述
结合循环提醒和时间表达式，对数据进行定时提醒。
提醒方式有短信、邮件、流程、云桥微信提醒，emobile消息。
二、场景说明
通过对卡片中的数据定时循环提醒。比如需求是 每月的第三个周五为是清洁日，系统在每个月第三个周五自动发送一个短信提醒。如下

X9-2-3-1
三、功能说明
实现以上需求的配置详细配置步骤如下：
第一步：在【后端应用中心】【建模引擎】【应用建模】【提醒】选择某个具体的应用，创建一个名为：清洁日提醒。页面如下图

X9-2-3-2
第二步：在提醒设置页面，设置提醒基本信息具体如下

X9-2-3-3
基本信息的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-3图片说明。
第二步：在提醒设置页面，设置提醒方式具体如下

X9-2-3-4
提醒方式的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-4图片说明。
第二步：在提醒设置页面，设置提醒方式具体如下

X9-2-3-5
定时器的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-6图片说明
通过以上步骤的配置，利用建模提醒中心清洁日的循环提醒。
9.2.4、自定义流程提醒
一、概述
建模提醒中的流程提醒除了支持默认流程提醒，但是往往很多业务中需要触发一个自定义流程。比如新员工考核通过完成之后 就需要直接触发一个转正的流程而不是系统默认流程。
二、场景说明
利用表单建模搭建了【实习生考核情况】模块以及利用流程搭建了一个【实习生转正流程】。如何能实现当满足实习生考核达标之后 触发一条实习生转正流程并且把考核表中的数据自动带入到转正流程中去。具体需求看如下

X9-2-4-1
三、功能说明
实现以上需求我们通过提醒中的自定义流程提醒功能来实现，配置详细配置步骤如下：
第一步：在在【后端应用中心】【建模引擎】【应用建模】【模块】选择搭建的“实习生考核情况”模块中的“数据审批”。配置一个数据审批具体如下图

X9-2-4-2
数据审批功能详细介绍见：九、X3-9-数据审批
第二步：在【后端应用中心】【建模引擎】【应用建模】【提醒】选择某个具体的应用，创建一个名为：实习生转正。页面如下图

X9-2-4-3
第二步：在提醒设置页面，设置提醒基本信息具体如下

X9-2-4-4
基本信息的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-3图片说明。
第三步：在提醒设置页面，设置提醒方式具体如下

X9-2-4-5
提醒方式的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-4图片说明。
第四步：在提醒设置页面，设置提醒信息具体如下图

X9-2-4-6
第五步：在提醒设置，设置定时器具体如下图

X9-2-4-7
定时器的详细页面说明见：《9.2.1、到期提醒》中的X9-2-1-6图片说明
通过以上步骤的配置，利用建模中提醒中心实现自定义流程提醒。
X9-3-注意事项
1、设置到期提醒时，需要结合到期时间、时间增量和定时器结合使用，如果设置的时间到了定时器还没有运行，则提醒可能延迟，需要注意到期时间和定时器的配合设置。
2、定时器触发方式选择表达式时，需要注意按照定时器表达式规则来填写（此功能使用时需了解定时器表达式配置方式）。
3、可以设置即时提醒、到期提醒、循环提醒。
4、需要设置时提醒条件时，需要先保存提醒信息再设置条件。
5、启用提醒功能时，需要保证系统的发送短信或者发送邮件功能正常。
Web Service
X10-1-Web Service
10.1.1、webservice 使用前提
使用表单建模webservice前需要检查系统中的services.xml文件中是否包含以下代码 如果没有需要加上方能使用
<service>	<name>ModeDataService</name>	<namespace>webservices.services.weaver.com.cn</namespace>	<serviceClass>weaver.formmode.webservices.ModeDateService</serviceClass>	<implementationClass>weaver.formmode.webservices.ModeDataServiceImpl</implementationClass>	</service>

10.1.2、建模webservices 提交的接口介绍
/**		 * 保存（新增、更新）		 */		publicvoid addMoidfyModeData(){			ModeDataService modeDateService = newModeDataService();			ModeDataServicePortType client= modeDateService.getModeDataServiceHttpPort();			String modeid = "127";			String khmc ="测试客户1231111";			String dataid = "1";			String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";			xml +="<ROOT>";			xml +="<header>";			xml +="<userid>1</userid>";//用户id			xml +="<modeid>"+modeid+"</modeid>";//模块id			xml +="<id>"+dataid+"</id>";//billid 如果是新增则值为空如果有数据则为修改			xml +="</header>";			xml +="<search>";			xml +="<condition />";			xml +="<right>Y</right>";//是否验证权限			xml +="</search>";			xml +="<data id=\"\">";			xml +="<maintable>";			xml +="<field>";			xml +="<filedname>name</filedname>";//数据库名称			xml +="<filedlabel>名称</filedlabel>";//字段名称			xml +="<fileddbtype>varchar(256)</fileddbtype>";//数据库类型			xml +="<filedvalue>"+khmc+"</filedvalue>";//字段的值			xml +="<fieldshowname>名称</fieldshowname>";			xml +="</field>";			xml +="</maintable>";			xml +="<detail></detail>";			xml +="</data>";			xml +="</ROOT>";			System.out.println(client.saveModeData(xml));		}				/**		 * 删除表单数据		 */		publicvoid deleteModeDataService(){			ModeDataService modeDateService = newModeDataService();			ModeDataServicePortType client= modeDateService.getModeDataServiceHttpPort();			/**			@param modeId 表单ID			@paramId 数据ID			@param userId 用户ID			@paramright （y/n）是否受权限控制			 * */			System.out.println(client.deleteModeDataById(127, 1, 1, "Y"));					}				/**		 * 获取表单数据总数		 */		publicvoid getAllModeDataCount(){			ModeDataService modeDateService = newModeDataService();			ModeDataServicePortType client= modeDateService.getModeDataServiceHttpPort();			/*			 * @param modeId 表单ID			 @param userId 用户ID			 @param conditions 查询条件			 @param right （y/n）是否受权限控制			 * */			System.out.println(client.getAllModeDataCount(127, 1, "", "Y"));		}				/**		 * 获取表单内容		 */		publicvoid getModeDataByID(){			ModeDataService modeDateService = newModeDataService();			ModeDataServicePortType client= modeDateService.getModeDataServiceHttpPort();			/*			 @param modeId 表单ID			 @param Id 数据ID			 @param userId 用户ID			 @param right （y/n）是否受权限控制		 @param isReturnDetail （y/n）是否返回明细表数据			 * */			System.out.println(client.getModeDataByID(127,3, 1,"Y", "Y"));		}				publicvoid getAllModeDataList(){			ModeDataService modeDateService = newModeDataService();			ModeDataServicePortTypeclient= modeDateService.getModeDataServiceHttpPort();			/*			 * 			@param modeId 表单ID			@param pageNo 当前页数			@param pageSize 每页记录数			@param recordCount 记录总数（小于等于0时自动计算记录总数）			@param userid 当前用户			@param conditions 查询条件			@param right （y/n）是否受权限控制			@param isReturnDetail （y/n）是否返回明细表数据			 */			System.out.println(client.getAllModeDataList(127,1, 2,-1,1,"Y", "Y","N"));		}

 
X10-2-保存（新建，更新）
10.2.1、方法介绍
方法：saveModeData(String paramXml)
输入参数：@param paramXml
输出参数：String: 返回保存状态，返回的值如下
 <?xml version="1.0" encoding="UTF-8"?>
<ROOT><return><id>334</id><returnnode>0</returnnode><returnmessage>操作成功！</returnmessage></return></ROOT>

 
10.2.2、实例效果
调用实例如下
ModeDateService modeDateService = newModeDateService();			ModeDateServicePortType client= modeDateService.getModeDateServiceHttpPort();			String modeid = "101";			String dataid = "";			String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";			xml +="<ROOT>";			xml +="<header>";			xml +="<userid>1</userid>";//用户id			xml +="<modeid>"+modeid+"</modeid>";//模块id			xml +="<id>"+dataid+"</id>";//billid 如果是新增则值为空如果有数据则为修改			xml +="</header>";			xml +="<search>";			xml +="<condition />";			xml +="<right>Y</right>";//是否验证权限			xml +="</search>";			xml +="<data id=\"\">";			xml +="<maintable>";			xml +="<field>";			xml +="<filedname>rwmc</filedname>";//数据库名称			xml +="<filedlabel>任务名称</filedlabel>";//字段名称			xml +="<fileddbtype>varchar(500)</fileddbtype>";//数据库类型			xml +="<filedvalue>"+"任务名称"+"</filedvalue>";//字段的值			xml +="<fieldshowname>任务名称</fieldshowname>";			xml +="</field>";			xml +="</maintable>";			xml +="<detail></detail>";			xml +="</data>";			xml +="</ROOT>";			System.out.println(client.saveModeData(xml));

 执行完的效果如下：
会在相应模块对应的表单中插入一条数据。
X10-3-删除表单数据
10.3.1、方法介绍
方法：deleteModeDataById(int modeId,int Id,int userId,String right);
输入参数：
@param modeId 表单ID
@param Id 数据ID
@param userId 用户ID
@param right （y/n） 是否受权限控制
输出参数：String: 返回删除状态 返回值如下图
<?xml version="1.0" encoding="UTF-8"?>
<ROOT><return><id>334</id><returnnode>0</returnnode><returnmessage>操作成功！</returnmessage></return></ROOT>

10.3.2、实例效果
调用实例如下
/**		 * 删除表单数据		 */		publicvoid deleteModeDateService(){			ModeDateService modeDateService = new ModeDateService();			ModeDateServicePortTypeclient= modeDateService.getModeDateServiceHttpPort();			/**			@param modeId 表单ID			@param Id 数据ID			@param userId 用户ID			@param right （y/n）是否受权限控制			 * */			System.out.println(client.deleteModeDataById(101, 334, 1, "Y"));					}

  
X10-4-获取表单数据总数
10.4.1、方法介绍
方法：getAllModeDataCount(int modeId,int userId, String conditions,String right);
输入参数：@param modeId 表单ID
@param userId 用户ID
@param conditions 查询条件
@param right （y/n） 是否受权限控制
输出参数：int: 表单总数
 
10.4.2、实例效果
实例调用如下
/**		 * 获取表单数据总数		 */		publicvoidgetAllModeDataCount(){			ModeDateServicemodeDateService = newModeDateService();			ModeDateServicePortType client= modeDateService.getModeDateServiceHttpPort();			/*			 * @parammodeId表单ID			 @paramuserId用户ID			 @param conditions 查询条件			 @param right （y/n）是否受权限控制			 * */			System.out.println(client.getAllModeDataCount(101, 1, "", "Y"));		}

执行后效果：
331
表示 此用户有权限看到此表单的数据为331条数据。
X10-5-获取表单内容
10.5.1、方法介绍
方法：getModeDataByID(int modeId,int Id,int userId,String right,String isReturnDetail);
输入参数：@param modeId 表单ID
@param Id 数据ID
@param userId 用户ID
@param right （y/n） 是否受权限控制
@param isReturnDetail （y/n） 是否返回明细表数据
输出参数：String: 表单内容（具体看实例调用效果）
 
10.5.2、实例介绍
实例调用如下
publicvoidgetModeDataByID(){			ModeDateServicemodeDateService = newModeDateService();			ModeDateServicePortType client= modeDateService.getModeDateServiceHttpPort();			/*			 @parammodeId表单ID			 @param Id 数据ID			 @paramuserId用户ID			 @param right （y/n）是否受权限控制		 @paramisReturnDetail（y/n）是否返回明细表数据			 * */			System.out.println(client.getModeDataByID(127, 3, 1,"Y", "Y"));		}

效果如下
<?xmlversion="1.0"encoding="UTF-8"?>	<ROOT>		<header>			<userid>1</userid>			<modeid>101</modeid>			<id>333</id>		</header>		<search>			<condition/>			<right>Y</right>		</search>		<dataid="333">			<handlers>				<modedatacreater>1</modedatacreater>				<modedatacreatershow>系统管理员</modedatacreatershow>				<modedatacreatedate>2014-10-31</modedatacreatedate>				<modedatacreatetime>17:37:03</modedatacreatetime>			</handlers>			<maintable>				<files>					<filedname>tpfj</filedname>					<filedlabel>图片附件</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>5408</filedvalue>					<file>						<filename>首页.png</filename>						<filecontent>images/13747						</filecontent>						<filecontenttype>http</filecontenttype>					</file>					<fieldshowname>5408</fieldshowname>				</files>				<files>					<filedname>wjfj</filedname>					<filedlabel>文件附件</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<file>						<filename/>						<filecontent/>						<filecontenttype/>					</file>					<fieldshowname/>				</files>				<field>					<filedname>cjr</filedname>					<filedlabel>提交人</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue>14</filedvalue>					<fieldshowname>肖荣娟</fieldshowname>				</field>				<field>					<filedname>tjdate</filedname>					<filedlabel>提交日期</filedlabel>					<fileddbtype>char(10)</fileddbtype>					<filedvalue>2014-10-31</filedvalue>					<fieldshowname>2014-10-31</fieldshowname>				</field>				<field>					<filedname>cjr1</filedname>					<filedlabel>创建人呢</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>1</filedvalue>					<fieldshowname>系统管理员</fieldshowname>				</field>				<field>					<filedname>dsd</filedname>					<filedlabel>创建人呢多选</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>1</filedvalue>					<fieldshowname>系统管理员</fieldshowname>				</field>				<field>					<filedname>rwbh</filedname>					<filedlabel>任务编号</filedlabel>					<fileddbtype>varchar(20)</fileddbtype>					<filedvalue>EWV201410310005</filedvalue>					<fieldshowname>EWV201410310005</fieldshowname>				</field>				<field>					<filedname>rwmc</filedname>					<filedlabel>任务名称</filedlabel>					<fileddbtype>varchar(500)</fileddbtype>					<filedvalue>移动建模，首页被误删除了之后，页面就变成这样了</filedvalue>					<fieldshowname>移动建模，首页被误删除了之后，页面就变成这样了</fieldshowname>				</field>				<field>					<filedname>glrw</filedname>					<filedlabel>关联任务</filedlabel>					<fileddbtype>browser.qxjl_0825</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>rwlx</filedname>					<filedlabel>任务类型</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>1</filedvalue>					<fieldshowname>移动建模</fieldshowname>				</field>				<field>					<filedname>wtlx</filedname>					<filedlabel>问题类型</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>0</filedvalue>					<fieldshowname>缺陷</fieldshowname>				</field>				<field>					<filedname>rwzt</filedname>					<filedlabel>任务状态</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>0</filedvalue>					<fieldshowname>open</fieldshowname>				</field>				<field>					<filedname>jd</filedname>					<filedlabel>完成进度</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>0</filedvalue>					<fieldshowname>0</fieldshowname>				</field>				<field>					<filedname>yxj</filedname>					<filedlabel>优先级</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>wthj</filedname>					<filedlabel>问题环境</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>wtms</filedname>					<filedlabel>问题描述</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>移动建模，首页被误删除了之后，页面就变成这样了，如图&lt;br&gt;建议把首页的删除按钮隐藏掉					</filedvalue>					<fieldshowname>移动建模，首页被误删除了之后，页面就变成这样了，如图&lt;br&gt;建议把首页的删除按钮隐藏掉					</fieldshowname>				</field>				<field>					<filedname>yfry</filedname>					<filedlabel>研发人员</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>csry</filedname>					<filedlabel>测试人员</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>kffk</filedname>					<filedlabel>研发反馈</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>csfk</filedname>					<filedlabel>测试反馈</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>			</maintable>			<detail/>		</data>	</ROOT>

 
X10-6-获取表单数据列表（分页）
10.6.1、方法介绍
方法：getAllModeDataList (21, 1, 10, 0, 1, "","n","Y");
输入参数：
@param modeId 表单ID
@param pageNo 当前页数
@param pageSize 每页记录数
@param recordCount 记录总数（小于等于0时自动计算记录总数）
@param userid 当前用户
@param conditions 查询条件
@param right （y/n） 是否受权限控制
@param isReturnDetail （y/n） 是否返回明细表数据
输出参数：
String: 表单数据列表（分页）
 
10.6.2、实例效果
实例效果如下
publicvoid getAllModeDataList(){			ModeDateService modeDateService = new ModeDateService();			ModeDateServicePortType client= modeDateService.getModeDateServiceHttpPort();			/*			 * 			@param modeId 表单ID			@param pageNo 当前页数			@param pageSize 每页记录数			@param recordCount 记录总数（小于等于0时自动计算记录总数）			@param userid 当前用户			@param conditions 查询条件			@param right （y/n）是否受权限控制			@param isReturnDetail （y/n）是否返回明细表数据			 */			System.out.println(client.getAllModeDataList(127, 1, 2,-1,1,"Y", "Y","N"));		}

 效果如下
<?xmlversion="1.0"encoding="UTF-8"?>	<ROOT>		<header>			<userid>1</userid>			<modeid>101</modeid>			<id/>		</header>		<search>			<condition/>			<right>Y</right>		</search>		<dataid="1">			<handlers>				<modedatacreater>1</modedatacreater>				<modedatacreatershow>系统管理员</modedatacreatershow>				<modedatacreatedate>2014-08-25</modedatacreatedate>				<modedatacreatetime>14:09:03</modedatacreatetime>			</handlers>			<maintable>				<files>					<filedname>tpfj</filedname>					<filedlabel>图片附件</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<file>						<filename/>						<filecontent/>						<filecontenttype/>					</file>					<fieldshowname/>				</files>				<files>					<filedname>wjfj</filedname>					<filedlabel>文件附件</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>2623</filedvalue>					<file>						<filename>主子表.docx</filename>						<filecontent>images/3713						</filecontent>						<filecontenttype>http</filecontenttype>					</file>					<fieldshowname>2623</fieldshowname>				</files>				<field>					<filedname>cjr</filedname>					<filedlabel>提交人</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue>1</filedvalue>					<fieldshowname>胡波</fieldshowname>				</field>				<field>					<filedname>tjdate</filedname>					<filedlabel>提交日期</filedlabel>					<fileddbtype>char(10)</fileddbtype>					<filedvalue>2014-08-25</filedvalue>					<fieldshowname>2014-08-25</fieldshowname>				</field>				<field>					<filedname>cjr1</filedname>					<filedlabel>创建人呢</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>dsd</filedname>					<filedlabel>创建人呢多选</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>rwbh</filedname>					<filedlabel>任务编号</filedlabel>					<fileddbtype>varchar(20)</fileddbtype>					<filedvalue>EWV201408250001</filedvalue>					<fieldshowname>EWV201408250001</fieldshowname>				</field>				<field>					<filedname>rwmc</filedname>					<filedlabel>任务名称</filedlabel>					<fileddbtype>varchar(500)</fileddbtype>					<filedvalue>自定义查询支持抽象表单</filedvalue>					<fieldshowname>自定义查询支持抽象表单</fieldshowname>				</field>				<field>					<filedname>glrw</filedname>					<filedlabel>关联任务</filedlabel>					<fileddbtype>browser.qxjl_0825</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>rwlx</filedname>					<filedlabel>任务类型</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>0</filedvalue>					<fieldshowname>表单建模</fieldshowname>				</field>				<field>					<filedname>wtlx</filedname>					<filedlabel>问题类型</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>1</filedvalue>					<fieldshowname>建议</fieldshowname>				</field>				<field>					<filedname>rwzt</filedname>					<filedlabel>任务状态</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue>3</filedvalue>					<fieldshowname>closed</fieldshowname>				</field>				<field>					<filedname>jd</filedname>					<filedlabel>完成进度</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>yxj</filedname>					<filedlabel>优先级</filedlabel>					<fileddbtype>int</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>wthj</filedname>					<filedlabel>问题环境</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>wtms</filedname>					<filedlabel>问题描述</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>yfry</filedname>					<filedlabel>研发人员</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue>6</filedvalue>					<fieldshowname>林海林</fieldshowname>				</field>				<field>					<filedname>csry</filedname>					<filedlabel>测试人员</filedlabel>					<fileddbtype>browser.yfcs_0823</fileddbtype>					<filedvalue/>					<fieldshowname/>				</field>				<field>					<filedname>kffk</filedname>					<filedlabel>研发反馈</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>$/ecology_8.000/src/weaver/formmode/service/CustomSearchService.java(V2)						&lt;br&gt;$/ecology_8.000/src/weaver/formmode/servelt/CustomSearchAction.java(V2)						&lt;br&gt;$/ecology_8.000/formmode/search/CustomSearchBySimpleIframe.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/customSearchBase.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/customSearchField.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/formSettingsAction.jsp(V2)						&lt;br&gt;&lt;br&gt;由于第六点暂缓，暂时没有实现。&lt;br&gt;						&lt;br&gt;跟肖肖确认了，关键字搜索没有问题。--lhl&amp;nbsp;20140826</filedvalue>					<fieldshowname>$/ecology_8.000/src/weaver/formmode/service/CustomSearchService.java(V2)						&lt;br&gt;$/ecology_8.000/src/weaver/formmode/servelt/CustomSearchAction.java(V2)						&lt;br&gt;$/ecology_8.000/formmode/search/CustomSearchBySimpleIframe.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/customSearchBase.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/customSearchField.jsp(V2)						&lt;br&gt;$/ecology_8.000/formmode/setup/formSettingsAction.jsp(V2)						&lt;br&gt;&lt;br&gt;由于第六点暂缓，暂时没有实现。&lt;br&gt;						&lt;br&gt;跟肖肖确认了，关键字搜索没有问题。--lhl&amp;nbsp;20140826</fieldshowname>				</field>				<field>					<filedname>csfk</filedname>					<filedlabel>测试反馈</filedlabel>					<fileddbtype>text</fileddbtype>					<filedvalue>再次修改如附件&lt;br&gt;						&lt;br&gt;明细表设置关键字搜索，搜索不起作用--xrj&amp;nbsp;2014-08-26 &lt;br&gt;						&lt;br&gt;测试ok---xrj&amp;nbsp;不作为标题字段&amp;nbsp;但是勾选了关键字搜索也是起作用的					</filedvalue>					<fieldshowname>再次修改如附件&lt;br&gt;						&lt;br&gt;明细表设置关键字搜索，搜索不起作用--xrj&amp;nbsp;2014-08-26 &lt;br&gt;						&lt;br&gt;测试ok---xrj&amp;nbsp;不作为标题字段&amp;nbsp;但是勾选了关键字搜索也是起作用的					</fieldshowname>				</field>			</maintable>		</data>	</ROOT>

 
导入导出
X11-1-应用导入导出
11.1.1、概述
在E7，E8都打上了跨版本的导入导出包之后。我们各系统才可以使用跨版本导入导出的这个功能进行（E9版本不需要打包，本身就自带此功能）
11.1.2、功能说明
第一步：在系统【后端应用中心】-【建模引擎】-【应用建模】--->点击导入导出菜单,点击某个应用。右键导出应用。

X11-1-1
第二步：根据提示选择是否需要导出应用中模块表数据。如下图

X11-1-2
第三步：点击上图确定，导出进行，中途可以点击取消导出。如图

X11-1-3
第四步：导出完成，还可以在日志页面（下图）查看此次导出有没有错误警告信息。点击“详细”可以看到此次导出日志。点击“下载”也可以将这个时间点导出的包重新下载。

X11-1-4
第五步：在其他系统导入此次导出应用包。

X11-1-5
第六步：如果导出的应用包含了与流程交互的设置（数据审批或者流程转数据）,导入时提示预先在下图页面配置相关流程，如果不配置则不导入与模块与流程交互设置。

X11-1-6
11.1.3、实施注意
上述功能支持跨版本导入导出，E9与有此功能的任何E8版本系统互相导入。
注意：导出模块表中数据以及与流程交互配置导入是E8后续功能，E8版本KB8100180600补丁包支持此功能。KB8100180600之前的版本在正式系统上搜索文档（【397766】新增功能：【表单建模】跨版本导入导出）附件中有通用补丁包可以打上。
如果第二次导入某应用包，则会覆盖表中数据。
X11-2-模块导入导出
11.2.1、概述
导入导出模块与导入导出应用方法上类似。实际使用根据项目上需要选择功能。例如：导出资产信息模块。
11.2.2、功能说明
第一步：在系统【后端应用中心】-【建模引擎】-【应用建模】--->点击导入导出菜单,点击某个模块。右键导出模块。

X11-2-1
第二步：与导出应用相同，导出模块时，如果模块表中有数据，弹出确认信息页面。如下图

X11-2-2
其他操作信息 与导入应用时一致。

视图组件
X12-1-资源面板
12.1.1、概述
表单建模中实际表单的数据可以通过动态配置在资源面板上展示。
表单建模中外部数据源的数据可以通过动态配置在资源面板上展示。
12.1.2、应用场景说明
某公司会议室较少，但是申请会议室的人比较多，在申请会议室的时候，希望能够将已有的会议室申请记录直观的展示出来，有申请冲突的用颜色标记，那么此时用资源面板功能可以实现该效果。
12.1.3、功能说明
以下是简单的一个会议室的需求描述
会议室模块用于存放具体的会议室信息。
会议室申请模块用户存放会议室的申请记录。（此卡片中有个会议室字段存放的是会议室的内容）
以下的配置步骤就是实现会议室的申请记录在资源面板上展示：
A、在【后端应用中心】-【建模引擎】-【应用建模】-【资源面板】，在此页面上 右键“新建资源面板”出来的效果（如图X12-1-1）

X12-1-1
页面说明：
名称：定义此资源面板的名称
查询列表：选择某个具体的查询列表。后面的单行文本会显示选择某个具体查询所关联模块的创建菜单的地址。
标题字段：查询列表关联表单中的单行文本-文本类型的字段。
开始日期字段：查询列表关联表单中的浏览框-日期类型的字段。
结束日期字段：查询列表关联表单中的浏览框-日期类型的字段。
开始时间字段：查询列表关联表单中的浏览框-时间类型的字段。
结束时间字段：查询列表关联表单中的浏览框-时间类型的字段。
内容字段：查询列表关联表单中的多行文本，多行文本带格式类型的字段。
资源字段：查询列表关联表单中的自定义单选，自定义多选字段。
资源显示字段：显示资源字段关联表中的单行文本-文本类型的字段
描述：具体存放此配置的说明。
显示顺序：此配置的显示顺序。
会议室管理的后台设置（如图X12-1-2）

X12-1-2
B、在（图X12-1-2）页面上通过 右键 “创建菜单”发布到前端的显示效果如图X12-1-3

X12-1-3
C、前端页面上的一些功能点说明
1、（图X12-1-3）页面上的1标识的创建数据按钮，可以控制显示不显示及控制点击页面的路径，说明如下图X12-1-4

X12-1-4
2、（图X12-1-3）页面上的2标识处显示的为资源对应内容，此处显示的是当前用户有权限查看的资源数据。详细说明如下图X12-1-5

X12-1-5
3、（图X12-1-3）页面上的3标识处显示后台配置的查询列表的数据，前端的查询列表页也拥有查询列表本身的功能。详细说明如下图X12-1-6

X12-1-6
D、资源面板支持sqlwhere参数的解析
1、查询列表+资源面板应用
在查询列表后台的字段定义中配置路径如下图X12-1-7

X12-1-7
前端的效果如下图X12-1-8

X12-1-8
说明：
在查询列表设置链接为：
/spa/cube/index.html#/main/cube/viewResource?customid=401&sqlwhere=sqhys=$billid$
其中 /spa/cube/index.html#/main/cube/viewResource?customid=401 为后台配置资源面板对应的前端地址。
sqlwhere=sqhys=$billid$为资源面板显示数据的限制条件
2、树形+资源面板应用
在树形后台的配置路径如下图X12-1-9

X12-1-9
前端显示效果如下图X12-1-10

X12-1-10
X12-2-思维导图
X12-3-甘特图
12.3.1、概述
表单建模中实际表单的数据可以通过动态配置在甘特图中展示。
12.3.2、功能说明
以下是一个简单的任务管理的需求描述。
任务管理模块用来存放具体的任务相关信息。（此卡片中有个上级字段和前置关系字段存放的就是本表单的内容）
以下配置步骤就是实现任务相关信息在甘特图上展示：
在【后端应用中心】-【建模引擎】-【应用建模】-【甘特图】中，右键“新建甘特图”，出来的效果如下图：

X12-3-1
页面说明：
名称：定义此甘特图的名称.
表单名称：选择此甘特图需要显示的实际表单名称。
模块名称：选择表单建模处实际表单关联的模块。
描述：此甘特图配置的描述说明。
数据显示条件：过滤甘特图表单数据的条件。格式为：a='1' and b='2'，其中a,b为表字段名。数据显示条件支持变量如当前用户当前日期等，具体如下：
//  当前操作者 $UserId$
//  当前操作者部门$DepartmentId$
//  当前操作者部门（包含下级部门）$AllDepartmentId$
//  当前操作者分部$SubcompanyId$
//  当前操作者分部（包含下级分部）$AllSubcompanyId$
//  当前日期$date$ 
主键：设置表单的主键字段。
默认根节点：设置根节点数据，不设置显示表单所有数据。
显示名：显示在甘特图上的标题字段。
上级：设置上级字段。
前置关系字段：设置前置关系字段。
计划开始日期字段：表单中的日期字段。
计划结束日期字段：表单中的日期字段。
计划开始时间字段：表单中的时间字段。
计划结束时间字段：表单中的时间字段。
进度字段：表单中的整数字段。
实际开始日期字段：表单中的日期字段。
实际结束日期字段：表单中的日期字段。
实际开始时间字段：表单中的时间字段。
实际结束时间字段：表单中的时间字段。
填写任务管理相关基础信息后保存，如下图：

X12-3-2
B、在步骤A中保存甘特图之后，会多出“字段定义”和“日志”这两个tab页，其中“字段定义”如下图：

X12-3-3
页面说明：
字段名称：基础页面关联表单中的主表字段数据库名称。
名称：基础页面关联表单中的主表字段显示名称。
显示名称：自定义显示字段在甘特图上的显示名称，不填写则显示字段的名称。
显示顺序：设置显示字段在前端的显示顺序。
列宽：设置显示字段在前端的列宽。
设置任务管理的字段定义后保存，如下图：

X12-3-4
C、在图2中通过右键“创建菜单”发布到前端的展示效果如下：

X12-3-5
D、关于前端展示页面的一些说明：
1、基础页面配置了上级字段，则在甘特图中会以上下级的关系显示数据，点击上级可以将下级收缩起来。并且在右侧图形显示中，上级的计划遵从以下规律显示：取下级的计划开始日期和计划结束日期的并集，即取所有下级计划开始日期中最早的日期，所有下级计划结束日期中最晚的日期；

X12-3-6
2、基础页面配置了前置关系字段，则在甘特图中会多出一条紫色的线条由前置字段指向当前字段。
E、甘特图支持rootId参数，可以在路径上传递rootId的值，根据rootId的值可以过滤甘特图根节点的数据，方便甘特图其他地方使用，比如页面扩展等。
在任务管理模块中，想要在查看任务卡片时同时查看该任务以及其下级任务的甘特图，则可以配置页面扩展如下：

X12-3-7
前端使用效果如下：

X12-3-8
其他
X13-1-未读，反馈标识
13.1.1、概述
在查询列表标题字段增加标识，人员通过标识知道哪些列表数据未读、已读和修改
13.1.2、应用场景说明
查询列表中，某条表单数据中的标题字段内容后面有不同的颜色标识，效果如图X13-1-1所示
出现红色图标，表示该用户还未查看此数据
出现黄色图标，表示该用户查看该条数据后，此数据又被修改过
没有任何图标，表示用户查看该数据后，该数据没有再修改过
X13-1-1
13.1.3、功能说明
启动和不启动此功能，需要在/WEB-INF/prop/formmode.properties配置文件中添加以下代码：
#是否开启列表未读，反馈标识功能。
Y:开启  N:关闭
Enabled=N
注：系统默认是关闭状态
若开启了列表标识功能，在前台查询列表高级搜索中添加了“数据状态”搜索条件如图，勾选对应check框，搜索对应的数据，效果如图X13-1-2所示
X13-1-2
13.1.4、实施注意
1、在后台设置多个列表标题字段，在前台对应多个标题字段都可以显示图标
2、明细子表显示在查询列表，支持标识显示功能
3、门户中建模自定义查询元素，支持标识显示功能
4、引用虚拟表单创建的查询列表，不支持此功能
X13-2-建模分权
13.2.1、概述
通过表单建模的分权管理，则可以实现分配机构权限给相应的管理员，则对应的管理员只能操作有权限的分部对应的表单建模相关数据，实现建模的分权管理。
13.2.2、应用场景说明
当需要指定分部管理员单独管理负责分部的建模数据时，可以通过表单建模分权管理来实现。
例如，A分部的管理员，只需要管理A分部的建模数据，则通过在角色设置中分配A分部的机构权限给A分部的管理员，那么A分部的管理员进入建模引擎时，则只可以操作A分部的建模数据。
13.2.3、功能说明
表单分权管理通过如下方式来设置：
13.2.3.1、开启建模分权
进入【后端应用中心】→【组织权限中心】→【权限管理】→【分权管理中心】，在【管理分权】中开启表单管理分权，同时总开关启用管理分权也会开启，设置默认机构后保存。如图X13-2-1所示。
X13-2-1
13.2.3.2、角色设置
（1）为了方便后面角色设置中添加建模相关功能权限，可以通过进入【后端应用中心】→【组织权限中心】→【权限管理中心】→【权限管理】→【权限设置】，新增权限组，将建模相关权限添加到权限组中。如图X13-2-2所示（可选）。
X13-2-2
（2）进入【后端应用中心】→【组织权限中心】→【权限管理】→【角色设置】，新建赋权角色。如图X13-2-3所示。
X13-2-3
（3）在角色设置中，添加功能权限。如图X13-2-4所示。
X13-2-4
（4）在角色设置中，设置机构权限，如图X13-2-5所示。
X13-2-5
权限说明：
禁止：与不勾选机构一致。
只读：所有相关页面为只读，不可编辑。
编辑：可新增、编辑，不可删除。
完全控制：可新增、编辑、删除。
（5）在角色设置中，添加成员。如图X13-2-6所示。
X13-2-6
13.2.3.3、进入表单建模
（1）角色设置完成后，通过对应的人员登录系统进入建模引擎，【后端应用中心】→【建模引擎】
系统管理员登录，展示所有分部的数据，方便查询数据所属分部，如图X13-2-7所示
X13-2-7
角色人员进入，会显示所选分部对应的数据，如图X13-2-8所示。
X13-2-8
新建或者编辑应用、模块、表单时，会默认显示所选择的分部，也可以修改为有权限选择的分部。
应用：
应用信息，如图X13-2-9所示
X13-2-9
编辑应用，若修改所属分部，会有提示，如图X13-2-10所示

X13-2-10
模块：
X13-2-11
表单：
X13-2-12
（3）建模相关页面，会根据设置的机构权限类型（只读、编辑、完全控制）显示。
禁止：与不勾选机构一样，如图X13-2-13所示

X13-2-13
只读：只读，不可编辑、不可删除，无保存按钮，如图X13-2-14所示。
X13-2-14
编辑：可编辑、新增，如图X13-2-15所示。
X13-2-15
完全控制：可新增、编辑、删除，如图X13-2-16所示。。
X13-2-16
13.2.4、实施注意
1、针对应用树，如果下级是有权限的，但是上级没有权限，则会显示上一级内容，但是没有权限操作。
2、查询、报表、浏览框、树、自定义页面、提醒没有单独分权，权限与应用一致。
3、模块、表单与所属应用关系，如果应用没有权限，但是模块或表单有权限，会显示对应的应用，但是应用没有操作权限。
4、应用、模块、表单的所属分部信息会根据如下规则生成：
1）建模分权开启时，根据选择的分部赋值。
2）为开启建模分权，分权总开关开启或者分权总开关存在默认值时，以分权总开关的值为准。
3）建模分权和分权总开关都不存在值时，取最小分部的id值。
5、前端查询列表的批量导入：
1）当有后端建模权限或者模块的批量导入权限时，相应的用户进入列表会显示批量导入按钮。
2）后端建模有批量导入的编辑或者完全控制权限，或者模块权限中设置了批量导入权限时，批量导入页面为可以编辑，可以正常导入；如果只有只读权限，则页面为只读，不可导入。
X13-3-回复评论
13.3.1、概述
通过表单建模回复功能，可以设置模块是否启用回复功能，启用回复功能后，有权限查看模块数据的人员可以对模块数据进行回复评论。底部开启效果如图X13-3-1、页面扩展开启如图X13-3-2所示
X13-3-1
X13-3-2
13.3.2、功能说明
13.3.2.1、后端配置
（1）通过进入【后端应用中心】→【建模引擎】，点击设置菜单。如图X13-3-3所示。
X13-3-3
（2）开启回复评论功能后保存，第一次开启后，会初始化回复评论数据，刷新应用树后会显示回复评论应用，可以通过修改显示顺序，便于查找，如图X13-3-4所示。
X13-3-4
（3）第一次开启回复功能主要是初始化应用、模块、表单、布局信息。如图X13-3-5所示。
X13-3-5
（4）布局是初始化后，可以备份布局信息，如果需要恢复，则可以源代码内容在布局中覆盖。新建和编辑布局都需要覆盖下，且将各自表单的字段id一一对应，如图X13-3-6所示。
X13-3-6
（5）如果需要在回复中添加附件，需设置附件目录。如图X13-3-7所示。
X13-3-7
（6）开启对应模块的回复功能。底部如图X13-3-8、页面扩展如图X13-3-9所示。
X13-3-8
X13-3-9
13.3.2.2、前端效果
（1）开启回复功能后，在对应模块的查看页面进行回复评论。如图X13-3-10、X13-3-11所示。
X13-3-10
X13-3-11
说明：
新增、编辑、删除、引用、评论、点赞。
与我相关，展示与登录人员有关的信息
提交的回复可修改（10min内可修改）、编辑、删除、引用、评论（对提交的回复引用、评论后不可修改），提交的回复有相应的楼层（修改后楼层号不变）。
可以引用附件、文档、客户、项目、流程内容，项目和流程的打开与对应权限相关；附件、文档、客户，只要有权限看到回复信息，则在回复页面可以点开查看对应的查看页面，其他地方与相关权限有关。
（2）可以通过搜索功能搜索评论。如图X13-3-12所示。
X12 -3-12
注：评论搜索功能是对评论进行搜索，评论的回复和对评论的评论不进行搜索。
13.3.3、注意事项
1、回复信息若设为底部，则只有显示布局才展示，若是设为页面扩展，在显示布局、编辑布局展示，有权限查看模块数据的人员可以查看回复信息参与回复评论。
2、提交的评论在10分钟内允许修改、删除，超过10分钟不能修改、不能删除。
3、附加功能中引用的文档、附件、客户可以在回复也点击链接查看，但是只能查看信息页面，附件、文档的附件等信息的权限与文档本身的权限有关。
4、回复评论基础模块的布局是第一次开启回复评论功能的时候初始化生成的，
5、回复评论模块引用的表单不允许修改为其他表单，屏蔽选择表单按钮。
6、评论搜索功能只针对评论进行搜索，对评论的回复等信息不会进行搜索。
X13-4-建模门户元素
13.4.1、概述
通过门户元素功能，可以在门户设置元素时，通过建模自定义查询将表单建模中的查询列表添加到门户元素中，然后在门户中显示表单建模中配置的查询列表，将列表中的数据在门户中展示。
13.4.2、应用场景说明
当需要将建模中设置的查询列表在门户中显示时，可以通过在门户中添加建模自定义查询元素，将要展示在门户中的查询列表显示在门户中。如图X13-4-1所示。

X13-4-1
13.4.3、功能说明
通过在【后端应用中心】→【门户引擎】→【门户页面】→【登录后页面】在对应的门户页面中设置元素。如图X13-4-2所示
X13-4-2
在设置元素页面，可以添加“建模查询中心”元素，然后进行相应的设置，就可以将建模相关的查询列表显示在门户页面中。如图X13-4-3所示。

X13-4-3
3、more链接地址，支持动态参数，且支持自定义，如图X13-4-4所示。

X13-4-4
说明：
1）通过设置图标进入建模查询中心元素设置，通过点击建模查询中心元素添加。
2）元素标题：设置元素的标题。
3）显示条数：设置列表显示条数。
4）链接方式：设置在门户元素列表中点击链接时，加载页面的方式。
当前页：在当前页面加载链接的页面。
弹出页：在弹出窗口中加载链接的页面。
5）标题是否显示：控制前端是否显示该标题
6）滚动方式：数据展示方式
7）列表：会加载通过在表单引擎中创建的查询列表，可以选择需要显示的查询列表。
8）字段：左侧会加载对应查询列表设置了显示标题的字段，然后可以选择要显示的在门户元素列表中的字段。通过在左侧双击选择要显示，右侧双击删除要显示的字段，也可以通过符号按钮选择从显示或者不显示的字段；通过拖动设置字段显示的顺序。
9）more：more可以自定义，输入则链接到该页面，若不输入则链接到建模引擎中的查询列表页面。
10）刷新图标：点击可以刷新当前元素的数据列表。
4、设置后，建模自定义查询元素在门户中显示效果如图X13-4-5所示

X13-4-5
13.4.4、实施注意
1、样式与共享功能与门户其他元素一致。
2、门户元素中显示的数据以及是否能显示列表与建模引擎中设置的模块权限和查询列表权限有关。
3、有维护者权限的人员才可以设置元素。
4、修改门户页面设置后，需要操作同步首页后才会刷新门户元素信息。
5、选择列表后，标题中只会显示查询列表设置为显示标题的字段。
6、门户元素中只会显示少量几条数据，需要查看更多数据，还需要通过点击more在查询列表中查看。
7、门户元素可以显示虚拟表单配置的列表数据。
8、门户元素可以显示主从表配置的列表数据。
X13-5-明细表数据过滤及排序功能
13.5.1、概述
明细表数据可以根据某个特定的条件进行过滤 并且用户可以根据明细表中的某列排序来展现数据。
13.5.2、应用场景说明
例如有个项目任务的卡片 任务表为明细表 需要实现不同的任务负责人看到不同的明细表数据 并且用户可以根据明细表某列对明细表的数据进行排序
13.5.3、功能说明
13.5.3.1、明细表数据过滤
在【后端应用中心】-【建模引擎】-【应用建模】-”某个具体的模块下的显示布局”如图X13-5-1所示
X13-5-1
在显示布局上 当表单字段选择明细表的时候 在显示样式下 显示个“查询条件”字样 如图X15-5-2所示
X13-5-2
点击“查询条件”弹出的页面如图X13-5-3所示
X13-5-3
设置 查询条件 如图X13-5-4所示
X13-5-4
在设置那样的查询条件之后，明细表保存，只展示符合条件的数据
说明：
1、 明细表查询条可以设置sql条件和java条件 其中都支持解析动态参数。支持的动态参数如下
当前操作者 $UserId$
当前操作者部门$DepartmentId$
当前操作者部门（包含下级部门）$AllDepartmentId$
当前操作者分部$SubcompanyId$
当前操作者分部（包含下级分部）$AllSubcompanyId$
当前日期$date$
2、 明细表查询条件功能 是跟布局关联，不同的布局可以设置不同的明细表查询条件。
3、 同一个布局上可以针对不同的明细表设置不同的查询条件。
4、 编辑类型和显示类型的布局上都支持此功能。
13.5.3.2、明细表数据排序
在【后端应用中心】-【建模引擎】-【应用建模】-”某个具体的模块下的显示布局”如图X13-5-5所示
X13-5-5
在图X13-5-5的布局中选择某个明细表中的某个字段 会显示出是否排序  如果勾选了则表示 此列在前端用户可以排序 如果不勾选则表示前端不排序，如图X13-5-6所示
X13-5-6                  
在图X13-5-6设置之后的前台显示的效果如图X13-5-7所示
X13-5-7
说明：
1、明细表排序功能 是跟布局关联，不同的布局可以设置不同的明细表字段是否排序
2、同一个布局上可以针对不同的明细表以及不同的明细表字段设置不同的排序。
3、编辑类型和显示类型的布局上都支持此功能。
4、字段支持排序逻辑与查询列表的排序一致 

上海泛微网络科技股份有限公司www.weaver.com.cn280
上海市闵行区联航路1188号浦江智谷33号楼
电话：021-68869298传真：021-50942278